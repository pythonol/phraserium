import{Q as x,a as y,b as P,c as B}from"./QPage.js";import{Q as I}from"./QItem.js";import{B as O,N as U,u as c,I as v,E as n,G as e,F as a,J as b,L as Q,D as k,O as _,M as $,P as q,H as m,R as r,K as w,Q as f,S as L,T as M,U as A,V as D,W as H,X as W}from"./index.js";import{Q as C}from"./QExpansionItem.js";import{Q as z}from"./QList.js";import{_ as G,E}from"./EntriesList.js";import{_ as K,a as X}from"./DrawerToggleBtn.js";import"./QResizeObserver.js";import"./QImg.js";import"./use-quasar.js";import"./_plugin-vue_export-helper.js";import"./selection.js";import"./format.js";const j={class:"text-center"},J={key:1,class:"absolute-center text-grey text-center"},me={__name:"FavoritesPage",setup(R){const F=O(),i=U(),p=c(!1),u=c(null),o=c(""),d=c(!1),S=()=>p.value=!0,g=()=>p.value=!1;function h(s){u.value=s,o.value=s.name,S()}const T=()=>{u.value.name!==o.value&&(u.value.name=o.value,u.value.save()),g()},N=async()=>{await i.remove(u.value),g()};return(s,l)=>(n(),v($,null,[e(K),e(P,{elevated:""},{default:a(()=>[e(x,null,{default:a(()=>[e(X),e(y,null,{default:a(()=>[b("div",j,Q(s.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1}),e(G,{withPerson:""})]),_:1})]),_:1}),e(B,{class:"q-py-xs"},{default:a(()=>[e(z,null,{default:a(()=>[(n(!0),v($,null,q(m(i).allOrdered,t=>(n(),v("div",{key:t.id},[e(C,{modelValue:t.expanded,"onUpdate:modelValue":[V=>t.expanded=V,V=>t.save()],"switch-toggle-side":""},{header:a(()=>[e(I,{class:"text-h6 text-primary"},{default:a(()=>[w(Q(t.name),1)]),_:2},1024),e(f,{icon:"edit",class:"absolute-end q-mx-sm q-mt-sm backdim",onClick:L(V=>h(t),["stop"]),size:"sm",round:""},null,8,["onClick"])]),default:a(()=>[e(r),e(E,{entries:t.entryIds,favorite:t,withTopic:""},null,8,["entries","favorite"])]),_:2},1032,["modelValue","onUpdate:modelValue"]),t.expanded?_("",!0):(n(),k(r,{key:0}))]))),128))]),_:1}),e(C,{label:s.$t("–ú–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"),modelValue:d.value,"onUpdate:modelValue":[l[0]||(l[0]=t=>d.value=t),l[1]||(l[1]=t=>m(i).loadEntriesWithComments(d.value))],"header-class":"text-h6","switch-toggle-side":""},{default:a(()=>[e(r),e(E,{entries:m(i).entriesWithComments,withTopic:""},null,8,["entries"])]),_:1},8,["label","modelValue"]),d.value?_("",!0):(n(),k(r,{key:0})),!d.value&&!Object.keys(m(i).entryFavsMap).length?(n(),v("div",J,l[5]||(l[5]=[b("span",null,"üëâ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∂–µ—Å—Ç swipe –≤–ø—Ä–∞–≤–æ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ñ—Ä–∞–∑—É –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1)]))):_("",!0),e(M,{modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=t=>p.value=t),dir:m(F).dir.dir,position:s.$constants.POPUP_POSITION},{default:a(()=>[e(A,{class:"q-dialog-plugin"},{default:a(()=>[e(x,{class:"q-px-sm"},{default:a(()=>[e(y,{class:"text-primary"},{default:a(()=>[w(Q(s.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1})]),_:1}),e(r),e(D,{class:"q-px-lg"},{default:a(()=>[e(H,{modelValue:o.value,"onUpdate:modelValue":l[2]||(l[2]=t=>o.value=t),maxlength:s.$constants.FAV_NAME_MAX_LENGTH,placeholder:"–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ",outlined:"",dense:"",autofocus:"",style:{"font-size":"100%"},onBlur:l[3]||(l[3]=t=>o.value=o.value.trim())},null,8,["modelValue","maxlength"])]),_:1}),e(r),e(W,{class:"items-stretch no-wrap"},{default:a(()=>[e(f,{label:"OK",class:"col-grow",style:{"max-width":"120px"},color:"primary",onClick:T}),e(f,{label:s.$t("–£–¥–∞–ª–∏—Ç—å"),icon:"delete","text-color":"red-8",onClick:N},null,8,["label"]),e(f,{label:s.$t("–û—Ç–º–µ–Ω–∞"),icon:"cancel",onClick:g},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue","dir","position"])]),_:1})],64))}};export{me as default};
