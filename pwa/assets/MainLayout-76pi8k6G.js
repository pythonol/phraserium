import{b as T,i as A,e as $,p as O,d,h,f as N,g as P,l as W,j as V,s as D,w as L,o as K,k as U,n as G,m as I,q as J,r as X,t as Y,u as y,v as Z,x as C,y as x,z as ee,A as te,_ as oe,B as Q,C as ne,D as ie,E as le,F as M,G as E}from"./index-DHm61cnQ.js";import{Q as F}from"./QResizeObserver-DS3oI00c.js";const re=T({name:"QPageContainer",setup(e,{slots:f}){const{proxy:{$q:n}}=P(),t=A(W,$);if(t===$)return console.error("QPageContainer needs to be child of QLayout"),$;O(V,!0);const i=d(()=>{const l={};return t.header.space===!0&&(l.paddingTop=`${t.header.size}px`),t.right.space===!0&&(l[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(l.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(l[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),l});return()=>h("div",{class:"q-page-container",style:i.value},N(f.default))}}),{passive:B}=J,ae=["both","horizontal","vertical"],se=T({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ae.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:D},emits:["scroll"],setup(e,{emit:f}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,i,l;L(()=>e.scrollTarget,()=>{v(),S()});function c(){t!==null&&t();const m=Math.max(0,X(i)),p=Y(i),s={top:m-n.position.top,left:p-n.position.left};if(e.axis==="vertical"&&s.top===0||e.axis==="horizontal"&&s.left===0)return;const w=Math.abs(s.top)>=Math.abs(s.left)?s.top<0?"up":"down":s.left<0?"left":"right";n.position={top:m,left:p},n.directionChanged=n.direction!==w,n.delta=s,n.directionChanged===!0&&(n.direction=w,n.inflectionPoint=n.position),f("scroll",{...n})}function S(){i=I(l,e.scrollTarget),i.addEventListener("scroll",r,B),r(!0)}function v(){i!==void 0&&(i.removeEventListener("scroll",r,B),i=void 0)}function r(m){if(m===!0||e.debounce===0||e.debounce==="0")c();else if(t===null){const[p,s]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];t=()=>{s(p),t=null}}}const{proxy:b}=P();return L(()=>b.$q.lang.rtl,c),K(()=>{l=b.$el.parentNode,S()}),U(()=>{t!==null&&t(),v()}),Object.assign(b,{trigger:r,getPosition:()=>n}),G}}),ce=T({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:f,emit:n}){const{proxy:{$q:t}}=P(),i=y(null),l=y(t.screen.height),c=y(e.container===!0?0:t.screen.width),S=y({position:0,direction:"down",inflectionPoint:0}),v=y(0),r=y(Z.value===!0?0:C()),b=d(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),m=d(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),p=d(()=>r.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${r.value}px`}:null),s=d(()=>r.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${r.value}px`,width:`calc(100% + ${r.value}px)`}:null);function w(o){if(e.container===!0||document.qScrollPrevented!==!0){const a={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};S.value=a,e.onScroll!==void 0&&n("scroll",a)}}function j(o){const{height:a,width:g}=o;let u=!1;l.value!==a&&(u=!0,l.value=a,e.onScrollHeight!==void 0&&n("scrollHeight",a),q()),c.value!==g&&(u=!0,c.value=g),u===!0&&e.onResize!==void 0&&n("resize",o)}function k({height:o}){v.value!==o&&(v.value=o,q())}function q(){if(e.container===!0){const o=l.value>v.value?C():0;r.value!==o&&(r.value=o)}}let _=null;const R={instances:{},view:d(()=>e.view),isContainer:d(()=>e.container),rootRef:i,height:l,containerHeight:v,scrollbarWidth:r,totalWidth:d(()=>c.value+r.value),rows:d(()=>{const o=e.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:x({size:0,offset:0,space:!1}),right:x({size:300,offset:0,space:!1}),footer:x({size:0,offset:0,space:!1}),left:x({size:300,offset:0,space:!1}),scroll:S,animate(){_!==null?clearTimeout(_):document.body.classList.add("q-body--layout-animate"),_=setTimeout(()=>{_=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,a,g){R[o][a]=g}};if(O(W,R),C()>0){let o=function(){u=null,z.classList.remove("hide-scrollbar")},a=function(){if(u===null){if(z.scrollHeight>t.screen.height)return;z.classList.add("hide-scrollbar")}else clearTimeout(u);u=setTimeout(o,300)},g=function(H){u!==null&&H==="remove"&&(clearTimeout(u),o()),window[`${H}EventListener`]("resize",a)},u=null;const z=document.body;L(()=>e.container!==!0?"add":"remove",g),e.container!==!0&&g("add"),ee(()=>{g("remove")})}return()=>{const o=te(f.default,[h(se,{onScroll:w}),h(F,{onResize:j})]),a=h("div",{class:b.value,style:m.value,ref:e.container===!0?void 0:i,tabindex:-1},o);return e.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:i},[h(F,{onResize:k}),h("div",{class:"absolute-full",style:p.value},[h("div",{class:"scroll",style:s.value},[a])])]):a}}}),ue={__name:"MainLayout",setup(e,{expose:f}){f();const t={storeSettings:Q(),get useStoreSettings(){return Q}};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}};function de(e,f,n,t,i,l){const c=ie("router-view");return le(),ne(ce,{view:"hHh Lpr lff",dir:t.storeSettings.dir.dir},{default:M(()=>[E(re,null,{default:M(()=>[E(c)]),_:1})]),_:1},8,["dir"])}const he=oe(ue,[["render",de],["__file","MainLayout.vue"]]);export{he as default};
