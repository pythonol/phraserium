import{a$ as Jt,b0 as Zt,u as ge,d as ct,w as Et,z as en,D as U,E as Y,F as M,a4 as et,I as He,M as dt,P as Mt,a2 as tn,aM as nn,b as on,h as rn,A as an,B as kt,O as qe,G as A,a3 as _t,K as ln,L as Ft,H as me,b1 as sn,b2 as un,aJ as cn,Q as Fe,J as dn,ag as fn,a5 as hn,b3 as pn}from"./index.js";import{Q as gn,a as mn,b as vn,c as bn}from"./QPage.js";import{Q as yn}from"./QList.js";import{Q as Be,b as wn,a as En}from"./QItem.js";import{Q as _n}from"./QImg.js";import{u as Sn}from"./use-quasar.js";import{_ as Dn}from"./_plugin-vue_export-helper.js";import"./QResizeObserver.js";/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function St(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),o.push.apply(o,n)}return o}function q(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?St(Object(o),!0).forEach(function(n){Tn(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):St(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function $e(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$e=function(e){return typeof e}:$e=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(t)}function Tn(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function J(){return J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},J.apply(this,arguments)}function Cn(t,e){if(t==null)return{};var o={},n=Object.keys(t),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(o[i]=t[i]);return o}function On(t,e){if(t==null)return{};var o=Cn(t,e),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var In="1.15.6";function K(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Z=K(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ne=K(/Edge/i),Dt=K(/firefox/i),Oe=K(/safari/i)&&!K(/chrome/i)&&!K(/android/i),mt=K(/iP(ad|od|hone)/i),Bt=K(/chrome/i)&&K(/android/i),Rt={capture:!1,passive:!1};function b(t,e,o){t.addEventListener(e,o,!Z&&Rt)}function v(t,e,o){t.removeEventListener(e,o,!Z&&Rt)}function je(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Xt(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function G(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&je(t,e):je(t,e))||n&&t===o)return t;if(t===o)break}while(t=Xt(t))}return null}var Tt=/\s+/g;function R(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Tt," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(Tt," ")}}function h(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function ve(t,e){var o="";if(typeof t=="string")o=t;else do{var n=h(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(o)}function Yt(t,e,o){if(t){var n=t.getElementsByTagName(e),i=0,r=n.length;if(o)for(;i<r;i++)o(n[i],i);return n}return[]}function W(){var t=document.scrollingElement;return t||document.documentElement}function C(t,e,o,n,i){if(!(!t.getBoundingClientRect&&t!==window)){var r,a,l,s,u,f,c;if(t!==window&&t.parentNode&&t!==W()?(r=t.getBoundingClientRect(),a=r.top,l=r.left,s=r.bottom,u=r.right,f=r.height,c=r.width):(a=0,l=0,s=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||o)&&t!==window&&(i=i||t.parentNode,!Z))do if(i&&i.getBoundingClientRect&&(h(i,"transform")!=="none"||o&&h(i,"position")!=="static")){var g=i.getBoundingClientRect();a-=g.top+parseInt(h(i,"border-top-width")),l-=g.left+parseInt(h(i,"border-left-width")),s=a+r.height,u=l+r.width;break}while(i=i.parentNode);if(n&&t!==window){var w=ve(i||t),y=w&&w.a,E=w&&w.d;w&&(a/=E,l/=y,c/=y,f/=E,s=a+f,u=l+c)}return{top:a,left:l,bottom:s,right:u,width:c,height:f}}}function Ct(t,e,o){for(var n=ie(t,!0),i=C(t)[e];n;){var r=C(n)[o],a=void 0;if(a=i>=r,!a)return n;if(n===W())break;n=ie(n,!1)}return!1}function be(t,e,o,n){for(var i=0,r=0,a=t.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==p.ghost&&(n||a[r]!==p.dragged)&&G(a[r],o.draggable,t,!1)){if(i===e)return a[r];i++}r++}return null}function vt(t,e){for(var o=t.lastElementChild;o&&(o===p.ghost||h(o,"display")==="none"||e&&!je(o,e));)o=o.previousElementSibling;return o||null}function L(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==p.clone&&(!e||je(t,e))&&o++;return o}function Ot(t){var e=0,o=0,n=W();if(t)do{var i=ve(t),r=i.a,a=i.d;e+=t.scrollLeft*r,o+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,o]}function An(t,e){for(var o in t)if(t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function ie(t,e){if(!t||!t.getBoundingClientRect)return W();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=h(o);if(o.clientWidth<o.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return W();if(n||e)return o;n=!0}}while(o=o.parentNode);return W()}function Pn(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function tt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ie;function Lt(t,e){return function(){if(!Ie){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),Ie=setTimeout(function(){Ie=void 0},e)}}}function xn(){clearTimeout(Ie),Ie=void 0}function Ht(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function $t(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}function zt(t,e,o){var n={};return Array.from(t.children).forEach(function(i){var r,a,l,s;if(!(!G(i,e.draggable,t,!1)||i.animated||i===o)){var u=C(i);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,u.left),n.top=Math.min((a=n.top)!==null&&a!==void 0?a:1/0,u.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,u.right),n.bottom=Math.max((s=n.bottom)!==null&&s!==void 0?s:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var k="Sortable"+new Date().getTime();function Nn(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(h(i,"display")==="none"||i===p.ghost)){t.push({target:i,rect:C(i)});var r=q({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=ve(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(An(t,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,a=0;t.forEach(function(l){var s=0,u=l.target,f=u.fromRect,c=C(u),g=u.prevFromRect,w=u.prevToRect,y=l.rect,E=ve(u,!0);E&&(c.top-=E.f,c.left-=E.e),u.toRect=c,u.thisAnimationDuration&&tt(g,c)&&!tt(f,c)&&(y.top-c.top)/(y.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(s=kn(y,g,w,i.options)),tt(c,f)||(u.prevFromRect=f,u.prevToRect=c,s||(s=i.options.animation),i.animate(u,y,c,s)),s&&(r=!0,a=Math.max(a,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),t=[]},animate:function(n,i,r,a){if(a){h(n,"transition",""),h(n,"transform","");var l=ve(this.el),s=l&&l.a,u=l&&l.d,f=(i.left-r.left)/(s||1),c=(i.top-r.top)/(u||1);n.animatingX=!!f,n.animatingY=!!c,h(n,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=Mn(n),h(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),h(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){h(n,"transition",""),h(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function Mn(t){return t.offsetWidth}function kn(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var de=[],nt={initializeByDefault:!0},Me={mount:function(e){for(var o in nt)nt.hasOwnProperty(o)&&!(o in e)&&(e[o]=nt[o]);de.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),de.push(e)},pluginEvent:function(e,o,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";de.forEach(function(a){o[a.pluginName]&&(o[a.pluginName][r]&&o[a.pluginName][r](q({sortable:o},n)),o.options[a.pluginName]&&o[a.pluginName][e]&&o[a.pluginName][e](q({sortable:o},n)))})},initializePlugins:function(e,o,n,i){de.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var u=new l(e,o,e.options);u.sortable=e,u.options=e.options,e[s]=u,J(n,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,o){var n={};return de.forEach(function(i){typeof i.eventProperties=="function"&&J(n,i.eventProperties.call(o[i.pluginName],e))}),n},modifyOption:function(e,o,n){var i;return de.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[o]=="function"&&(i=r.optionListeners[o].call(e[r.pluginName],n))}),i}};function Fn(t){var e=t.sortable,o=t.rootEl,n=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,c=t.newDraggableIndex,g=t.originalEvent,w=t.putSortable,y=t.extraEventProperties;if(e=e||o&&o[k],!!e){var E,H=e.options,j="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Z&&!Ne?E=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(n,!0,!0)),E.to=a||o,E.from=l||o,E.item=i||o,E.clone=r,E.oldIndex=s,E.newIndex=u,E.oldDraggableIndex=f,E.newDraggableIndex=c,E.originalEvent=g,E.pullMode=w?w.lastPutMode:void 0;var P=q(q({},y),Me.getEventProperties(n,e));for(var $ in P)E[$]=P[$];o&&o.dispatchEvent(E),H[j]&&H[j].call(e,E)}}var Bn=["evt"],N=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,r=On(n,Bn);Me.pluginEvent.bind(p)(e,o,q({dragEl:d,parentEl:D,ghostEl:m,rootEl:_,nextEl:ce,lastDownEl:ze,cloneEl:S,cloneHidden:oe,dragStarted:De,putSortable:O,activeSortable:p.active,originalEvent:i,oldIndex:pe,oldDraggableIndex:Ae,newIndex:X,newDraggableIndex:ne,hideGhostForTarget:qt,unhideGhostForTarget:jt,cloneNowHidden:function(){oe=!0},cloneNowShown:function(){oe=!1},dispatchSortableEvent:function(l){x({sortable:o,name:l,originalEvent:i})}},r))};function x(t){Fn(q({putSortable:O,cloneEl:S,targetEl:d,rootEl:_,oldIndex:pe,oldDraggableIndex:Ae,newIndex:X,newDraggableIndex:ne},t))}var d,D,m,_,ce,ze,S,oe,pe,X,Ae,ne,Re,O,he=!1,Ve=!1,Ue=[],se,z,ot,it,It,At,De,fe,Pe,xe=!1,Xe=!1,Ge,I,rt=[],ft=!1,Ke=[],Ze=typeof document<"u",Ye=mt,Pt=Ne||Z?"cssFloat":"float",Rn=Ze&&!Bt&&!mt&&"draggable"in document.createElement("div"),Gt=function(){if(Ze){if(Z)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Qt=function(e,o){var n=h(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=be(e,0,o),a=be(e,1,o),l=r&&h(r),s=a&&h(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+C(r).width,f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===c)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=i&&n[Pt]==="none"||a&&n[Pt]==="none"&&u+f>i)?"vertical":"horizontal"},Xn=function(e,o,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,l=n?o.left:o.top,s=n?o.right:o.bottom,u=n?o.width:o.height;return i===l||r===s||i+a/2===l+u/2},Yn=function(e,o){var n;return Ue.some(function(i){var r=i[k].options.emptyInsertThreshold;if(!(!r||vt(i))){var a=C(i),l=e>=a.left-r&&e<=a.right+r,s=o>=a.top-r&&o<=a.bottom+r;if(l&&s)return n=i}}),n},Wt=function(e){function o(r,a){return function(l,s,u,f){var c=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(r==null&&(a||c))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return o(r(l,s,u,f),a)(l,s,u,f);var g=(a?l:s).options.group.name;return r===!0||typeof r=="string"&&r===g||r.join&&r.indexOf(g)>-1}}var n={},i=e.group;(!i||$e(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=o(i.pull,!0),n.checkPut=o(i.put),n.revertClone=i.revertClone,e.group=n},qt=function(){!Gt&&m&&h(m,"display","none")},jt=function(){!Gt&&m&&h(m,"display","")};Ze&&!Bt&&document.addEventListener("click",function(t){if(Ve)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ve=!1,!1},!0);var ue=function(e){if(d){e=e.touches?e.touches[0]:e;var o=Yn(e.clientX,e.clientY);if(o){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[k]._onDragOver(n)}}},Ln=function(e){d&&d.parentNode[k]._isOutsideThisEl(e.target)};function p(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=J({},e),t[k]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Qt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!Oe||mt),emptyInsertThreshold:5};Me.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);Wt(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Rn,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?b(t,"pointerdown",this._onTapStart):(b(t,"mousedown",this._onTapStart),b(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(t,"dragover",this),b(t,"dragenter",this)),Ue.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),J(this,Nn())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(fe=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,n=this.el,i=this.options,r=i.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,f=i.filter;if(jn(n),!d&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Oe&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=G(s,i.draggable,n,!1),!(s&&s.animated)&&ze!==s)){if(pe=L(s),Ae=L(s,i.draggable),typeof f=="function"){if(f.call(this,e,s,this)){x({sortable:o,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),N("filter",o,{evt:e}),r&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=G(u,c.trim(),n,!1),c)return x({sortable:o,rootEl:c,name:"filter",targetEl:s,fromEl:n,toEl:n}),N("filter",o,{evt:e}),!0}),f)){r&&e.preventDefault();return}i.handle&&!G(u,i.handle,n,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,o,n){var i=this,r=i.el,a=i.options,l=r.ownerDocument,s;if(n&&!d&&n.parentNode===r){var u=C(n);if(_=r,d=n,D=d.parentNode,ce=d.nextSibling,ze=n,Re=a.group,p.dragged=d,se={target:d,clientX:(o||e).clientX,clientY:(o||e).clientY},It=se.clientX-u.left,At=se.clientY-u.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,d.style["will-change"]="all",s=function(){if(N("delayEnded",i,{evt:e}),p.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Dt&&i.nativeDraggable&&(d.draggable=!0),i._triggerDragStart(e,o),x({sortable:i,name:"choose",originalEvent:e}),R(d,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){Yt(d,f.trim(),at)}),b(l,"dragover",ue),b(l,"mousemove",ue),b(l,"touchmove",ue),a.supportPointer?(b(l,"pointerup",i._onDrop),!this.nativeDraggable&&b(l,"pointercancel",i._onDrop)):(b(l,"mouseup",i._onDrop),b(l,"touchend",i._onDrop),b(l,"touchcancel",i._onDrop)),Dt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),N("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(Ne||Z))){if(p.eventCanceled){this._onDrop();return}a.supportPointer?(b(l,"pointerup",i._disableDelayedDrag),b(l,"pointercancel",i._disableDelayedDrag)):(b(l,"mouseup",i._disableDelayedDrag),b(l,"touchend",i._disableDelayedDrag),b(l,"touchcancel",i._disableDelayedDrag)),b(l,"mousemove",i._delayedDragTouchMoveHandler),b(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&b(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&at(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"pointerup",this._disableDelayedDrag),v(e,"pointercancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):o?b(document,"touchmove",this._onTouchMove):b(document,"mousemove",this._onTouchMove):(b(d,"dragend",this),b(_,"dragstart",this._onDragStart));try{document.selection?Qe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(he=!1,_&&d){N("dragStarted",this,{evt:o}),this.nativeDraggable&&b(document,"dragover",Ln);var n=this.options;!e&&R(d,n.dragClass,!1),R(d,n.ghostClass,!0),p.active=this,e&&this._appendGhost(),x({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(z){this._lastX=z.clientX,this._lastY=z.clientY,qt();for(var e=document.elementFromPoint(z.clientX,z.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(z.clientX,z.clientY),e!==o);)o=e;if(d.parentNode[k]._isOutsideThisEl(e),o)do{if(o[k]){var n=void 0;if(n=o[k]._onDragOver({clientX:z.clientX,clientY:z.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=Xt(o));jt()}},_onTouchMove:function(e){if(se){var o=this.options,n=o.fallbackTolerance,i=o.fallbackOffset,r=e.touches?e.touches[0]:e,a=m&&ve(m,!0),l=m&&a&&a.a,s=m&&a&&a.d,u=Ye&&I&&Ot(I),f=(r.clientX-se.clientX+i.x)/(l||1)+(u?u[0]-rt[0]:0)/(l||1),c=(r.clientY-se.clientY+i.y)/(s||1)+(u?u[1]-rt[1]:0)/(s||1);if(!p.active&&!he){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(m){a?(a.e+=f-(ot||0),a.f+=c-(it||0)):a={a:1,b:0,c:0,d:1,e:f,f:c};var g="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");h(m,"webkitTransform",g),h(m,"mozTransform",g),h(m,"msTransform",g),h(m,"transform",g),ot=f,it=c,z=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:_,o=C(d,!0,Ye,!0,e),n=this.options;if(Ye){for(I=e;h(I,"position")==="static"&&h(I,"transform")==="none"&&I!==document;)I=I.parentNode;I!==document.body&&I!==document.documentElement?(I===document&&(I=W()),o.top+=I.scrollTop,o.left+=I.scrollLeft):I=W(),rt=Ot(I)}m=d.cloneNode(!0),R(m,n.ghostClass,!1),R(m,n.fallbackClass,!0),R(m,n.dragClass,!0),h(m,"transition",""),h(m,"transform",""),h(m,"box-sizing","border-box"),h(m,"margin",0),h(m,"top",o.top),h(m,"left",o.left),h(m,"width",o.width),h(m,"height",o.height),h(m,"opacity","0.8"),h(m,"position",Ye?"absolute":"fixed"),h(m,"zIndex","100000"),h(m,"pointerEvents","none"),p.ghost=m,e.appendChild(m),h(m,"transform-origin",It/parseInt(m.style.width)*100+"% "+At/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,i=e.dataTransfer,r=n.options;if(N("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}N("setupClone",this),p.eventCanceled||(S=$t(d),S.removeAttribute("id"),S.draggable=!1,S.style["will-change"]="",this._hideClone(),R(S,this.options.chosenClass,!1),p.clone=S),n.cloneId=Qe(function(){N("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||_.insertBefore(S,d),n._hideClone(),x({sortable:n,name:"clone"}))}),!o&&R(d,r.dragClass,!0),o?(Ve=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,d)),b(document,"drop",n),h(d,"transform","translateZ(0)")),he=!0,n._dragStartId=Qe(n._dragStarted.bind(n,o,e)),b(document,"selectstart",n),De=!0,window.getSelection().removeAllRanges(),Oe&&h(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,i,r,a,l=this.options,s=l.group,u=p.active,f=Re===s,c=l.sort,g=O||u,w,y=this,E=!1;if(ft)return;function H(Se,Ut){N(Se,y,q({evt:e,isOwner:f,axis:w?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:c,fromSortable:g,target:n,completed:P,onMove:function(wt,Kt){return Le(_,o,d,i,wt,C(wt),e,Kt)},changed:$},Ut))}function j(){H("dragOverAnimationCapture"),y.captureAnimationState(),y!==g&&g.captureAnimationState()}function P(Se){return H("dragOverCompleted",{insertion:Se}),Se&&(f?u._hideClone():u._showClone(y),y!==g&&(R(d,O?O.options.ghostClass:u.options.ghostClass,!1),R(d,l.ghostClass,!0)),O!==y&&y!==p.active?O=y:y===p.active&&O&&(O=null),g===y&&(y._ignoreWhileAnimating=n),y.animateAll(function(){H("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===o&&!n.animated)&&(fe=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(d.parentNode[k]._isOutsideThisEl(e.target),!Se&&ue(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),E=!0}function $(){X=L(d),ne=L(d,l.draggable),x({sortable:y,name:"change",toEl:o,newIndex:X,newDraggableIndex:ne,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=G(n,l.draggable,o,!0),H("dragOver"),p.eventCanceled)return E;if(d.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||y._ignoreWhileAnimating===n)return P(!1);if(Ve=!1,u&&!l.disabled&&(f?c||(a=D!==_):O===this||(this.lastPutMode=Re.checkPull(this,u,d,e))&&s.checkPut(this,u,d,e))){if(w=this._getDirection(e,n)==="vertical",i=C(d),H("dragOverValid"),p.eventCanceled)return E;if(a)return D=_,j(),this._hideClone(),H("revert"),p.eventCanceled||(ce?_.insertBefore(d,ce):_.appendChild(d)),P(!0);var F=vt(o,l.draggable);if(!F||Gn(e,w,this)&&!F.animated){if(F===d)return P(!1);if(F&&o===e.target&&(n=F),n&&(r=C(n)),Le(_,o,d,i,n,r,e,!!n)!==!1)return j(),F&&F.nextSibling?o.insertBefore(d,F.nextSibling):o.appendChild(d),D=o,$(),P(!0)}else if(F&&zn(e,w,this)){var re=be(o,0,l,!0);if(re===d)return P(!1);if(n=re,r=C(n),Le(_,o,d,i,n,r,e,!1)!==!1)return j(),o.insertBefore(d,re),D=o,$(),P(!0)}else if(n.parentNode===o){r=C(n);var Q=0,ae,ye=d.parentNode!==o,B=!Xn(d.animated&&d.toRect||i,n.animated&&n.toRect||r,w),we=w?"top":"left",ee=Ct(n,"top","top")||Ct(d,"top","top"),Ee=ee?ee.scrollTop:void 0;fe!==n&&(ae=r[we],xe=!1,Xe=!B&&l.invertSwap||ye),Q=Qn(e,n,r,w,B?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Xe,fe===n);var V;if(Q!==0){var le=L(d);do le-=Q,V=D.children[le];while(V&&(h(V,"display")==="none"||V===m))}if(Q===0||V===n)return P(!1);fe=n,Pe=Q;var _e=n.nextElementSibling,te=!1;te=Q===1;var ke=Le(_,o,d,i,n,r,e,te);if(ke!==!1)return(ke===1||ke===-1)&&(te=ke===1),ft=!0,setTimeout($n,30),j(),te&&!_e?o.appendChild(d):n.parentNode.insertBefore(d,te?_e:n),ee&&Ht(ee,0,Ee-ee.scrollTop),D=d.parentNode,ae!==void 0&&!Xe&&(Ge=Math.abs(ae-C(n)[we])),$(),P(!0)}if(o.contains(d))return P(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",ue),v(document,"mousemove",ue),v(document,"touchmove",ue)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"pointercancel",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(X=L(d),ne=L(d,n.draggable),N("drop",this,{evt:e}),D=d&&d.parentNode,X=L(d),ne=L(d,n.draggable),p.eventCanceled){this._nulling();return}he=!1,Xe=!1,xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ht(this.cloneId),ht(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Oe&&h(document.body,"user-select",""),h(d,"transform",""),e&&(De&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(_===D||O&&O.lastPutMode!=="clone")&&S&&S.parentNode&&S.parentNode.removeChild(S),d&&(this.nativeDraggable&&v(d,"dragend",this),at(d),d.style["will-change"]="",De&&!he&&R(d,O?O.options.ghostClass:this.options.ghostClass,!1),R(d,this.options.chosenClass,!1),x({sortable:this,name:"unchoose",toEl:D,newIndex:null,newDraggableIndex:null,originalEvent:e}),_!==D?(X>=0&&(x({rootEl:D,name:"add",toEl:D,fromEl:_,originalEvent:e}),x({sortable:this,name:"remove",toEl:D,originalEvent:e}),x({rootEl:D,name:"sort",toEl:D,fromEl:_,originalEvent:e}),x({sortable:this,name:"sort",toEl:D,originalEvent:e})),O&&O.save()):X!==pe&&X>=0&&(x({sortable:this,name:"update",toEl:D,originalEvent:e}),x({sortable:this,name:"sort",toEl:D,originalEvent:e})),p.active&&((X==null||X===-1)&&(X=pe,ne=Ae),x({sortable:this,name:"end",toEl:D,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){N("nulling",this),_=d=D=m=ce=S=ze=oe=se=z=De=X=ne=pe=Ae=fe=Pe=O=Re=p.dragged=p.ghost=p.clone=p.active=null,Ke.forEach(function(e){e.checked=!0}),Ke.length=ot=it=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),Hn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,i=0,r=n.length,a=this.options;i<r;i++)o=n[i],G(o,a.draggable,this.el,!1)&&e.push(o.getAttribute(a.dataIdAttr)||qn(o));return e},sort:function(e,o){var n={},i=this.el;this.toArray().forEach(function(r,a){var l=i.children[a];G(l,this.options.draggable,i,!1)&&(n[r]=l)},this),o&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(i.removeChild(n[r]),i.appendChild(n[r]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return G(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var i=Me.modifyOption(this,e,o);typeof i<"u"?n[e]=i:n[e]=o,e==="group"&&Wt(n)},destroy:function(){N("destroy",this);var e=this.el;e[k]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ue.splice(Ue.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!oe){if(N("hideClone",this),p.eventCanceled)return;h(S,"display","none"),this.options.removeCloneOnHide&&S.parentNode&&S.parentNode.removeChild(S),oe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(oe){if(N("showClone",this),p.eventCanceled)return;d.parentNode==_&&!this.options.group.revertClone?_.insertBefore(S,d):ce?_.insertBefore(S,ce):_.appendChild(S),this.options.group.revertClone&&this.animate(d,S),h(S,"display",""),oe=!1}}};function Hn(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Le(t,e,o,n,i,r,a,l){var s,u=t[k],f=u.options.onMove,c;return window.CustomEvent&&!Z&&!Ne?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=t,s.dragged=o,s.draggedRect=n,s.related=i||e,s.relatedRect=r||C(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),f&&(c=f.call(u,s,a)),c}function at(t){t.draggable=!1}function $n(){ft=!1}function zn(t,e,o){var n=C(be(o.el,0,o.options,!0)),i=zt(o.el,o.options,m),r=10;return e?t.clientX<i.left-r||t.clientY<n.top&&t.clientX<n.right:t.clientY<i.top-r||t.clientY<n.bottom&&t.clientX<n.left}function Gn(t,e,o){var n=C(vt(o.el,o.options.draggable)),i=zt(o.el,o.options,m),r=10;return e?t.clientX>i.right+r||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>i.bottom+r||t.clientX>n.right&&t.clientY>n.top}function Qn(t,e,o,n,i,r,a,l){var s=n?t.clientY:t.clientX,u=n?o.height:o.width,f=n?o.top:o.left,c=n?o.bottom:o.right,g=!1;if(!a){if(l&&Ge<u*i){if(!xe&&(Pe===1?s>f+u*r/2:s<c-u*r/2)&&(xe=!0),xe)g=!0;else if(Pe===1?s<f+Ge:s>c-Ge)return-Pe}else if(s>f+u*(1-i)/2&&s<c-u*(1-i)/2)return Wn(e)}return g=g||a,g&&(s<f+u*r/2||s>c-u*r/2)?s>f+u/2?1:-1:0}function Wn(t){return L(d)<L(t)?1:-1}function qn(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function jn(t){Ke.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&Ke.push(n)}}function Qe(t){return setTimeout(t,0)}function ht(t){return clearTimeout(t)}Ze&&b(document,"touchmove",function(t){(p.active||he)&&t.cancelable&&t.preventDefault()});p.utils={on:b,off:v,css:h,find:Yt,is:function(e,o){return!!G(e,o,e,!1)},extend:Pn,throttle:Lt,closest:G,toggleClass:R,clone:$t,index:L,nextTick:Qe,cancelNextTick:ht,detectDirection:Qt,getChild:be,expando:k};p.get=function(t){return t[k]};p.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=q(q({},p.utils),n.utils)),Me.mount(n)})};p.create=function(t,e){return new p(t,e)};p.version=In;var T=[],Te,pt,gt=!1,lt,st,Je,Ce;function Vn(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):n.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),xt(),We(),xn()},nulling:function(){Je=pt=Te=gt=Ce=lt=st=null,T.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var i=this,r=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,l=document.elementFromPoint(r,a);if(Je=o,n||this.options.forceAutoScrollFallback||Ne||Z||Oe){ut(o,this.options,l,n);var s=ie(l,!0);gt&&(!Ce||r!==lt||a!==st)&&(Ce&&xt(),Ce=setInterval(function(){var u=ie(document.elementFromPoint(r,a),!0);u!==s&&(s=u,We()),ut(o,i.options,u,n)},10),lt=r,st=a)}else{if(!this.options.bubbleScroll||ie(l,!0)===W()){We();return}ut(o,this.options,ie(l,!1),!1)}}},J(t,{pluginName:"scroll",initializeByDefault:!0})}function We(){T.forEach(function(t){clearInterval(t.pid)}),T=[]}function xt(){clearInterval(Ce)}var ut=Lt(function(t,e,o,n){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,s=W(),u=!1,f;pt!==o&&(pt=o,We(),Te=e.scroll,f=e.scrollFn,Te===!0&&(Te=ie(o,!0)));var c=0,g=Te;do{var w=g,y=C(w),E=y.top,H=y.bottom,j=y.left,P=y.right,$=y.width,F=y.height,re=void 0,Q=void 0,ae=w.scrollWidth,ye=w.scrollHeight,B=h(w),we=w.scrollLeft,ee=w.scrollTop;w===s?(re=$<ae&&(B.overflowX==="auto"||B.overflowX==="scroll"||B.overflowX==="visible"),Q=F<ye&&(B.overflowY==="auto"||B.overflowY==="scroll"||B.overflowY==="visible")):(re=$<ae&&(B.overflowX==="auto"||B.overflowX==="scroll"),Q=F<ye&&(B.overflowY==="auto"||B.overflowY==="scroll"));var Ee=re&&(Math.abs(P-i)<=a&&we+$<ae)-(Math.abs(j-i)<=a&&!!we),V=Q&&(Math.abs(H-r)<=a&&ee+F<ye)-(Math.abs(E-r)<=a&&!!ee);if(!T[c])for(var le=0;le<=c;le++)T[le]||(T[le]={});(T[c].vx!=Ee||T[c].vy!=V||T[c].el!==w)&&(T[c].el=w,T[c].vx=Ee,T[c].vy=V,clearInterval(T[c].pid),(Ee!=0||V!=0)&&(u=!0,T[c].pid=setInterval((function(){n&&this.layer===0&&p.active._onTouchMove(Je);var _e=T[this.layer].vy?T[this.layer].vy*l:0,te=T[this.layer].vx?T[this.layer].vx*l:0;typeof f=="function"&&f.call(p.dragged.parentNode[k],te,_e,t,Je,T[this.layer].el)!=="continue"||Ht(T[this.layer].el,te,_e)}).bind({layer:c}),24))),c++}while(e.bubbleScroll&&g!==s&&(g=ie(g,!1)));gt=u}},30),Vt=function(e){var o=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(o){var u=n||r;l();var f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,c=document.elementFromPoint(f.clientX,f.clientY);s(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function bt(){}bt.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=be(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(o,i):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Vt};J(bt,{pluginName:"revertOnSpill"});function yt(){}yt.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),i.animateAll()},drop:Vt};J(yt,{pluginName:"removeOnSpill"});p.mount(new Vn);p.mount(yt,bt);const Un=Jt({__name:"Sortable",props:{options:{type:Object,default:null,required:!1},list:{type:[Array,Object],default:[],required:!0},itemKey:{type:[String,Function],default:"",required:!0},tag:{type:String,default:"div",required:!1}},emits:["choose","unchoose","start","end","add","update","sort","remove","filter","move","clone","change"],setup(t,{expose:e,emit:o}){const n=t,i=o,r=Zt(),a=ge(!1),l=ge(null),s=ge(null),u=ct(()=>typeof n.itemKey=="string"?f=>f[n.itemKey]:n.itemKey);return e({containerRef:l,sortable:s,isDragging:a}),Et(l,f=>{f&&(s.value=new p(f,{...n.options,onChoose:c=>i("choose",c),onUnchoose:c=>i("unchoose",c),onStart:c=>{a.value=!0,i("start",c)},onEnd:c=>{setTimeout(()=>{a.value=!1,i("end",c)})},onAdd:c=>i("add",c),onUpdate:c=>i("update",c),onSort:c=>i("sort",c),onRemove:c=>i("remove",c),onFilter:c=>i("filter",c),onMove:(c,g)=>"onMoveCapture"in r?r.onMoveCapture(c,g):i("move",c,g),onClone:c=>i("clone",c),onChange:c=>i("change",c)}))}),Et(()=>n.options,f=>{if(f&&s?.value)for(const c in f)s.value.option(c,f[c])}),en(()=>{s.value&&(s.value.destroy(),l.value=null,s.value=null)}),(f,c)=>(Y(),U(nn(f.$props.tag),{ref_key:"containerRef",ref:l,class:tn(f.$props.class)},{default:M(()=>[et(f.$slots,"header"),(Y(!0),He(dt,null,Mt(t.list,(g,w)=>et(f.$slots,"item",{key:u.value(g),element:g,index:w})),128)),et(f.$slots,"footer")]),_:3},8,["class"]))}}),Kn=["top","middle","bottom"],Jn=on({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:t=>Kn.includes(t)}},setup(t,{slots:e}){const o=ct(()=>t.align!==void 0?{verticalAlign:t.align}:null),n=ct(()=>{const i=t.outline===!0&&t.color||t.textColor;return`q-badge flex inline items-center no-wrap q-badge--${t.multiLine===!0?"multi":"single"}-line`+(t.outline===!0?" q-badge--outline":t.color!==void 0?` bg-${t.color}`:"")+(i!==void 0?` text-${i}`:"")+(t.floating===!0?" q-badge--floating":"")+(t.rounded===!0?" q-badge--rounded":"")+(t.transparent===!0?" q-badge--transparent":"")});return()=>rn("div",{class:n.value,style:o.value,role:"status","aria-label":t.label},an(e.default,t.label!==void 0?[t.label]:[]))}}),Nt={__name:"TopicItem",props:{topic:{type:Object,required:!0},reorder:{type:Boolean,default:!1}},setup(t){const e=Sn(),o=kt(),n=t,i=ge(0),r=()=>n.topic.entryCount().then(l=>i.value=l);r();const a=()=>{e.dialog({message:o.updates.topics[n.topic.id],cancel:"Update"}).onCancel(()=>{un(n.topic.id).then(()=>r())})};return(l,s)=>(Y(),U(En,{clickable:"",onClick:s[1]||(s[1]=u=>a()),"data-id":n.topic.id,style:{"border-bottom":"1px solid grey"},dense:""},{default:M(()=>[t.reorder?(Y(),U(Be,{key:0,avatar:""},{default:M(()=>[A(_t,{class:"handle",name:"reorder",color:"primary",style:{cursor:"move"}})]),_:1})):qe("",!0),A(Be,{avatar:""},{default:M(()=>[t.topic.style?.icon?(Y(),U(_t,{key:0,name:t.topic.style?.icon},null,8,["name"])):t.topic.style?.img?(Y(),U(_n,{key:1,src:t.topic.style.img,"no-spinner":"","no-native-menu":"",width:"24px"},null,8,["src"])):qe("",!0)]),_:1}),A(Be,null,{default:M(()=>[A(wn,null,{default:M(()=>[ln(Ft(t.topic.getName(me(o).settings.fromLanguage))+" ",1),A(Jn,{color:i.value===0?"grey":null,label:i.value},null,8,["color","label"])]),_:1})]),_:1}),A(Be,{side:""},{default:M(()=>[A(sn,{val:t.topic.id,modelValue:me(o).settings.topicActiveIds,"onUpdate:modelValue":s[0]||(s[0]=u=>me(o).settings.topicActiveIds=u),color:"primary"},null,8,["val","modelValue"])]),_:1})]),_:1},8,["data-id"]))}},Zn={class:"absolute-center"},eo={key:1,class:"q-gutter-sm"},to={__name:"TopicsPage",setup(t){const e=kt(),o=cn(),n=ge(null),i=ge(!1),r=[],a={animation:250,handle:".handle",chosenClass:"chosen"},l=()=>{i.value=!0,hn(()=>{r.length=0,r.push(...n.value.sortable.toArray())})},s=()=>{e.settings.topicActiveIds=n.value.sortable.toArray(),i.value=!1},u=()=>{pn.deepEqual(n.value.sortable.toArray(),r)?i.value=!1:(n.value.sortable.sort(r,!0),setTimeout(()=>i.value=!1,200))};return(f,c)=>(Y(),He(dt,null,[A(vn,{elevated:""},{default:M(()=>[A(gn,null,{default:M(()=>[A(Fe,{flat:"",dense:"",round:"",icon:"arrow_back","aria-label":"Back",onClick:c[0]||(c[0]=g=>f.$router.back())}),A(mn,null,{default:M(()=>[dn("div",Zn,Ft(f.$t("Темы")),1)]),_:1}),i.value?(Y(),He("div",eo,[A(Fe,{icon:"done",onClick:s,size:"md",padding:"sm sm"}),A(Fe,{icon:"cancel",onClick:u,size:"md",padding:"sm sm"})])):(Y(),U(Fe,{key:0,icon:"sort",onClick:l,size:"md",padding:"sm sm"}))]),_:1})]),_:1}),A(bn,{class:"q-py-xs"},{default:M(()=>[A(fn,{name:"slide-fade"},{default:M(()=>[i.value?(Y(),U(me(Un),{key:0,ref_key:"refSortable",ref:n,list:me(o).active,options:a,"item-key":"id"},{item:M(({element:g})=>[A(Nt,{topic:g,reorder:""},null,8,["topic"])]),_:1},8,["list"])):qe("",!0)]),_:1}),i.value?qe("",!0):(Y(),U(yn,{key:0},{default:M(()=>[(Y(!0),He(dt,null,Mt(me(o).allOrdered,g=>(Y(),U(Nt,{key:g.id,topic:g},null,8,["topic"]))),128))]),_:1}))]),_:1})],64))}},fo=Dn(to,[["__scopeId","data-v-c579756a"]]);export{fo as default};
