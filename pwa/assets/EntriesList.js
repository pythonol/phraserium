import{_ as te,B as I,E as f,H as _,C as p,V as M,N as v,aB as De,b as Ae,ai as Ke,aj as Xe,u as L,d as S,aC as Je,k as Ye,h as O,f as Ze,am as $e,g as Qe,aD as et,aE as Fe,aF as tt,aG as nt,aH as Re,aI as ce,au as U,Z as de,aJ as Oe,at as ue,F as y,G as m,P as ke,aK as K,a5 as A,R as P,L as b,Q as J,S as D,J as x,a4 as se,a3 as R,aL as Z,T as we,U as xe,O as Se,aw as Le,W as ot,aM as Pe,K as fe,a1 as rt,D as st,I as at,M as it}from"./index.js";import{T as lt}from"./DrawerToggleBtn.js";import{Q as ct}from"./QExpansionItem.js";import{Q as dt}from"./QList.js";import{Q as Y}from"./QImg.js";import{Q as ye,b as he,a as ut}from"./QItem.js";import{u as me}from"./use-quasar.js";import{b as Ce,c as Te}from"./QPage.js";const ft={__name:"GramSelector",props:{withPerson:{type:Boolean,default:!0},withGender:{type:Boolean,default:!0},withNumber:{type:Boolean,default:!0}},setup(d,{expose:l}){l();const a=I(),e=a.settings,s={storeSettings:a,sss:e,props:d,get GRAM_SELECTOR(){return De},get useStoreSettings(){return I}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}},mt={class:"q-gutter-sm"};function gt(d,l,a,e,n,s){return f(),_("div",mt,[e.props.withPerson?(f(),p(M,{key:0,icon:e.GRAM_SELECTOR.person.icon[e.sss.gramPerson],onClick:l[0]||(l[0]=t=>e.storeSettings.toggleGramPerson()),size:"md",padding:"sm sm",title:"1/2/3 лицо"},null,8,["icon"])):v("",!0),e.props.withGender?(f(),p(M,{key:1,icon:e.GRAM_SELECTOR.gender.icon[e.sss.gramGender],"text-color":e.GRAM_SELECTOR.gender.color[e.sss.gramGender],onClick:l[1]||(l[1]=t=>e.storeSettings.toggleGramGender()),size:"md",padding:"sm sm",title:"Мужской/женский род"},null,8,["icon","text-color"])):v("",!0),e.props.withNumber?(f(),p(M,{key:2,icon:e.GRAM_SELECTOR.number.icon[e.sss.gramNumber],onClick:l[2]||(l[2]=t=>e.storeSettings.toggleGramNumber()),size:"md",padding:"sm sm",title:"Единственное/множественное число"},null,8,["icon"])):v("",!0)])}const Tn=te(ft,[["render",gt],["__file","GramSelector.vue"]]);function yt(){let d=Object.create(null);return{getCache:(l,a)=>d[l]===void 0?d[l]=typeof a=="function"?a():a:d[l],setCache(l,a){d[l]=a},hasCache(l){return Object.hasOwnProperty.call(d,l)},clearCache(l){l!==void 0?delete d[l]:d=Object.create(null)}}}const qe=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]],ht=Ae({name:"QSlideItem",props:{...Ke,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(d,{slots:l,emit:a}){const{proxy:e}=Qe(),{$q:n}=e,s=Xe(d,n),{getCache:t}=yt(),o=L(null);let r=null,i={},c={},u={};const g=S(()=>n.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),h=S(()=>"q-slide-item q-item-type overflow-hidden"+(s.value===!0?" q-slide-item--dark q-dark":""));function T(){o.value.style.transform="translate(0,0)"}function E(k,W,F){d.onSlide!==void 0&&a("slide",{side:k,ratio:W,isReset:F})}function $(k){const W=o.value;if(k.isFirst)i={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},W.classList.add("no-transition"),qe.forEach(w=>{if(l[w[0]]!==void 0){const B=u[w[0]];B.style.transform="scale(1)",i.size[w[0]]=B.getBoundingClientRect()[w[3]]}}),i.axis=k.direction==="up"||k.direction==="down"?"Y":"X";else if(k.isFinal){W.classList.remove("no-transition"),i.scale===1?(W.style.transform=`translate${i.axis}(${i.dir*100}%)`,r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,a(i.showing,{reset:T}),a("action",{side:i.showing,reset:T})},230)):(W.style.transform="translate(0,0)",E(i.showing,0,!0));return}else k.direction=i.axis==="X"?k.offset.x<0?"left":"right":k.offset.y<0?"up":"down";if(l.left===void 0&&k.direction===g.value.right||l.right===void 0&&k.direction===g.value.left||l.top===void 0&&k.direction==="down"||l.bottom===void 0&&k.direction==="up"){W.style.transform="translate(0,0)";return}let F,q,C;i.axis==="X"?(q=k.direction==="left"?-1:1,F=q===1?g.value.left:g.value.right,C=k.distance.x):(q=k.direction==="up"?-2:2,F=q===2?"top":"bottom",C=k.distance.y),!(i.dir!==null&&Math.abs(q)!==Math.abs(i.dir))&&(i.dir!==q&&(["left","right","top","bottom"].forEach(w=>{c[w]&&(c[w].style.visibility=F===w?"visible":"hidden")}),i.showing=F,i.dir=q),i.scale=Math.max(0,Math.min(1,(C-40)/i.size[F])),W.style.transform=`translate${i.axis}(${C*q/Math.abs(q)}px)`,u[F].style.transform=`scale(${i.scale})`,E(F,i.scale,!1))}return Je(()=>{c={},u={}}),Ye(()=>{r!==null&&clearTimeout(r)}),Object.assign(e,{reset:T}),()=>{const k=[],W={left:l[g.value.right]!==void 0,right:l[g.value.left]!==void 0,up:l.bottom!==void 0,down:l.top!==void 0},F=Object.keys(W).filter(C=>W[C]===!0);qe.forEach(C=>{const w=C[0];l[w]!==void 0&&k.push(O("div",{key:w,ref:B=>{c[w]=B},class:`q-slide-item__${w} absolute-full row no-wrap items-${C[1]} justify-${C[2]}`+(d[w+"Color"]!==void 0?` bg-${d[w+"Color"]}`:"")},[O("div",{ref:B=>{u[w]=B}},l[w]())]))});const q=O("div",{key:`${F.length===0?"only-":""} content`,ref:o,class:"q-slide-item__content"},Ze(l.default));return F.length===0?k.push(q):k.push($e(q,t("dir#"+F.join(""),()=>{const C={prevent:!0,stop:!0,mouse:!0};return F.forEach(w=>{C[w]=!0}),[[lt,$,void 0,C]]}))),O("div",{class:h.value},k)}}});function re(d){const l=et.create(d);let a=!1;const e=()=>{a=!0,l.hide()};return window.addEventListener("popstate",e),l.onDismiss(()=>{window.removeEventListener("popstate",e),a||(Fe.currentRoute.value.meta.dialog=!0,Fe.back())}),history.pushState({},""),l}var ve,Me;function vt(){return Me||(Me=1,ve={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),ve}var pe,We;function Ve(){if(We)return pe;We=1;const d=vt(),l={};for(const n of Object.keys(d))l[d[n]]=n;const a={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};pe=a;for(const n of Object.keys(a)){if(!("channels"in a[n]))throw new Error("missing channels property: "+n);if(!("labels"in a[n]))throw new Error("missing channel labels property: "+n);if(a[n].labels.length!==a[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:s,labels:t}=a[n];delete a[n].channels,delete a[n].labels,Object.defineProperty(a[n],"channels",{value:s}),Object.defineProperty(a[n],"labels",{value:t})}a.rgb.hsl=function(n){const s=n[0]/255,t=n[1]/255,o=n[2]/255,r=Math.min(s,t,o),i=Math.max(s,t,o),c=i-r;let u,g;i===r?u=0:s===i?u=(t-o)/c:t===i?u=2+(o-s)/c:o===i&&(u=4+(s-t)/c),u=Math.min(u*60,360),u<0&&(u+=360);const h=(r+i)/2;return i===r?g=0:h<=.5?g=c/(i+r):g=c/(2-i-r),[u,g*100,h*100]},a.rgb.hsv=function(n){let s,t,o,r,i;const c=n[0]/255,u=n[1]/255,g=n[2]/255,h=Math.max(c,u,g),T=h-Math.min(c,u,g),E=function($){return(h-$)/6/T+1/2};return T===0?(r=0,i=0):(i=T/h,s=E(c),t=E(u),o=E(g),c===h?r=o-t:u===h?r=1/3+s-o:g===h&&(r=2/3+t-s),r<0?r+=1:r>1&&(r-=1)),[r*360,i*100,h*100]},a.rgb.hwb=function(n){const s=n[0],t=n[1];let o=n[2];const r=a.rgb.hsl(n)[0],i=1/255*Math.min(s,Math.min(t,o));return o=1-1/255*Math.max(s,Math.max(t,o)),[r,i*100,o*100]},a.rgb.cmyk=function(n){const s=n[0]/255,t=n[1]/255,o=n[2]/255,r=Math.min(1-s,1-t,1-o),i=(1-s-r)/(1-r)||0,c=(1-t-r)/(1-r)||0,u=(1-o-r)/(1-r)||0;return[i*100,c*100,u*100,r*100]};function e(n,s){return(n[0]-s[0])**2+(n[1]-s[1])**2+(n[2]-s[2])**2}return a.rgb.keyword=function(n){const s=l[n];if(s)return s;let t=1/0,o;for(const r of Object.keys(d)){const i=d[r],c=e(n,i);c<t&&(t=c,o=r)}return o},a.keyword.rgb=function(n){return d[n]},a.rgb.xyz=function(n){let s=n[0]/255,t=n[1]/255,o=n[2]/255;s=s>.04045?((s+.055)/1.055)**2.4:s/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92;const r=s*.4124+t*.3576+o*.1805,i=s*.2126+t*.7152+o*.0722,c=s*.0193+t*.1192+o*.9505;return[r*100,i*100,c*100]},a.rgb.lab=function(n){const s=a.rgb.xyz(n);let t=s[0],o=s[1],r=s[2];t/=95.047,o/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*o-16,c=500*(t-o),u=200*(o-r);return[i,c,u]},a.hsl.rgb=function(n){const s=n[0]/360,t=n[1]/100,o=n[2]/100;let r,i,c;if(t===0)return c=o*255,[c,c,c];o<.5?r=o*(1+t):r=o+t-o*t;const u=2*o-r,g=[0,0,0];for(let h=0;h<3;h++)i=s+1/3*-(h-1),i<0&&i++,i>1&&i--,6*i<1?c=u+(r-u)*6*i:2*i<1?c=r:3*i<2?c=u+(r-u)*(2/3-i)*6:c=u,g[h]=c*255;return g},a.hsl.hsv=function(n){const s=n[0];let t=n[1]/100,o=n[2]/100,r=t;const i=Math.max(o,.01);o*=2,t*=o<=1?o:2-o,r*=i<=1?i:2-i;const c=(o+t)/2,u=o===0?2*r/(i+r):2*t/(o+t);return[s,u*100,c*100]},a.hsv.rgb=function(n){const s=n[0]/60,t=n[1]/100;let o=n[2]/100;const r=Math.floor(s)%6,i=s-Math.floor(s),c=255*o*(1-t),u=255*o*(1-t*i),g=255*o*(1-t*(1-i));switch(o*=255,r){case 0:return[o,g,c];case 1:return[u,o,c];case 2:return[c,o,g];case 3:return[c,u,o];case 4:return[g,c,o];case 5:return[o,c,u]}},a.hsv.hsl=function(n){const s=n[0],t=n[1]/100,o=n[2]/100,r=Math.max(o,.01);let i,c;c=(2-t)*o;const u=(2-t)*r;return i=t*r,i/=u<=1?u:2-u,i=i||0,c/=2,[s,i*100,c*100]},a.hwb.rgb=function(n){const s=n[0]/360;let t=n[1]/100,o=n[2]/100;const r=t+o;let i;r>1&&(t/=r,o/=r);const c=Math.floor(6*s),u=1-o;i=6*s-c,c&1&&(i=1-i);const g=t+i*(u-t);let h,T,E;switch(c){default:case 6:case 0:h=u,T=g,E=t;break;case 1:h=g,T=u,E=t;break;case 2:h=t,T=u,E=g;break;case 3:h=t,T=g,E=u;break;case 4:h=g,T=t,E=u;break;case 5:h=u,T=t,E=g;break}return[h*255,T*255,E*255]},a.cmyk.rgb=function(n){const s=n[0]/100,t=n[1]/100,o=n[2]/100,r=n[3]/100,i=1-Math.min(1,s*(1-r)+r),c=1-Math.min(1,t*(1-r)+r),u=1-Math.min(1,o*(1-r)+r);return[i*255,c*255,u*255]},a.xyz.rgb=function(n){const s=n[0]/100,t=n[1]/100,o=n[2]/100;let r,i,c;return r=s*3.2406+t*-1.5372+o*-.4986,i=s*-.9689+t*1.8758+o*.0415,c=s*.0557+t*-.204+o*1.057,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,c=c>.0031308?1.055*c**(1/2.4)-.055:c*12.92,r=Math.min(Math.max(0,r),1),i=Math.min(Math.max(0,i),1),c=Math.min(Math.max(0,c),1),[r*255,i*255,c*255]},a.xyz.lab=function(n){let s=n[0],t=n[1],o=n[2];s/=95.047,t/=100,o/=108.883,s=s>.008856?s**(1/3):7.787*s+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;const r=116*t-16,i=500*(s-t),c=200*(t-o);return[r,i,c]},a.lab.xyz=function(n){const s=n[0],t=n[1],o=n[2];let r,i,c;i=(s+16)/116,r=t/500+i,c=i-o/200;const u=i**3,g=r**3,h=c**3;return i=u>.008856?u:(i-16/116)/7.787,r=g>.008856?g:(r-16/116)/7.787,c=h>.008856?h:(c-16/116)/7.787,r*=95.047,i*=100,c*=108.883,[r,i,c]},a.lab.lch=function(n){const s=n[0],t=n[1],o=n[2];let r;r=Math.atan2(o,t)*360/2/Math.PI,r<0&&(r+=360);const c=Math.sqrt(t*t+o*o);return[s,c,r]},a.lch.lab=function(n){const s=n[0],t=n[1],r=n[2]/360*2*Math.PI,i=t*Math.cos(r),c=t*Math.sin(r);return[s,i,c]},a.rgb.ansi16=function(n,s=null){const[t,o,r]=n;let i=s===null?a.rgb.hsv(n)[2]:s;if(i=Math.round(i/50),i===0)return 30;let c=30+(Math.round(r/255)<<2|Math.round(o/255)<<1|Math.round(t/255));return i===2&&(c+=60),c},a.hsv.ansi16=function(n){return a.rgb.ansi16(a.hsv.rgb(n),n[2])},a.rgb.ansi256=function(n){const s=n[0],t=n[1],o=n[2];return s===t&&t===o?s<8?16:s>248?231:Math.round((s-8)/247*24)+232:16+36*Math.round(s/255*5)+6*Math.round(t/255*5)+Math.round(o/255*5)},a.ansi16.rgb=function(n){let s=n%10;if(s===0||s===7)return n>50&&(s+=3.5),s=s/10.5*255,[s,s,s];const t=(~~(n>50)+1)*.5,o=(s&1)*t*255,r=(s>>1&1)*t*255,i=(s>>2&1)*t*255;return[o,r,i]},a.ansi256.rgb=function(n){if(n>=232){const i=(n-232)*10+8;return[i,i,i]}n-=16;let s;const t=Math.floor(n/36)/5*255,o=Math.floor((s=n%36)/6)/5*255,r=s%6/5*255;return[t,o,r]},a.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(n){const s=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!s)return[0,0,0];let t=s[0];s[0].length===3&&(t=t.split("").map(u=>u+u).join(""));const o=parseInt(t,16),r=o>>16&255,i=o>>8&255,c=o&255;return[r,i,c]},a.rgb.hcg=function(n){const s=n[0]/255,t=n[1]/255,o=n[2]/255,r=Math.max(Math.max(s,t),o),i=Math.min(Math.min(s,t),o),c=r-i;let u,g;return c<1?u=i/(1-c):u=0,c<=0?g=0:r===s?g=(t-o)/c%6:r===t?g=2+(o-s)/c:g=4+(s-t)/c,g/=6,g%=1,[g*360,c*100,u*100]},a.hsl.hcg=function(n){const s=n[1]/100,t=n[2]/100,o=t<.5?2*s*t:2*s*(1-t);let r=0;return o<1&&(r=(t-.5*o)/(1-o)),[n[0],o*100,r*100]},a.hsv.hcg=function(n){const s=n[1]/100,t=n[2]/100,o=s*t;let r=0;return o<1&&(r=(t-o)/(1-o)),[n[0],o*100,r*100]},a.hcg.rgb=function(n){const s=n[0]/360,t=n[1]/100,o=n[2]/100;if(t===0)return[o*255,o*255,o*255];const r=[0,0,0],i=s%1*6,c=i%1,u=1-c;let g=0;switch(Math.floor(i)){case 0:r[0]=1,r[1]=c,r[2]=0;break;case 1:r[0]=u,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=c;break;case 3:r[0]=0,r[1]=u,r[2]=1;break;case 4:r[0]=c,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=u}return g=(1-t)*o,[(t*r[0]+g)*255,(t*r[1]+g)*255,(t*r[2]+g)*255]},a.hcg.hsv=function(n){const s=n[1]/100,t=n[2]/100,o=s+t*(1-s);let r=0;return o>0&&(r=s/o),[n[0],r*100,o*100]},a.hcg.hsl=function(n){const s=n[1]/100,o=n[2]/100*(1-s)+.5*s;let r=0;return o>0&&o<.5?r=s/(2*o):o>=.5&&o<1&&(r=s/(2*(1-o))),[n[0],r*100,o*100]},a.hcg.hwb=function(n){const s=n[1]/100,t=n[2]/100,o=s+t*(1-s);return[n[0],(o-s)*100,(1-o)*100]},a.hwb.hcg=function(n){const s=n[1]/100,o=1-n[2]/100,r=o-s;let i=0;return r<1&&(i=(o-r)/(1-r)),[n[0],r*100,i*100]},a.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]},a.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]},a.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]},a.gray.hsl=function(n){return[0,0,n[0]]},a.gray.hsv=a.gray.hsl,a.gray.hwb=function(n){return[0,100,n[0]]},a.gray.cmyk=function(n){return[0,0,0,n[0]]},a.gray.lab=function(n){return[n[0],0,0]},a.gray.hex=function(n){const s=Math.round(n[0]/100*255)&255,o=((s<<16)+(s<<8)+s).toString(16).toUpperCase();return"000000".substring(o.length)+o},a.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]},pe}var be,je;function pt(){if(je)return be;je=1;const d=Ve();function l(){const s={},t=Object.keys(d);for(let o=t.length,r=0;r<o;r++)s[t[r]]={distance:-1,parent:null};return s}function a(s){const t=l(),o=[s];for(t[s].distance=0;o.length;){const r=o.pop(),i=Object.keys(d[r]);for(let c=i.length,u=0;u<c;u++){const g=i[u],h=t[g];h.distance===-1&&(h.distance=t[r].distance+1,h.parent=r,o.unshift(g))}}return t}function e(s,t){return function(o){return t(s(o))}}function n(s,t){const o=[t[s].parent,s];let r=d[t[s].parent][s],i=t[s].parent;for(;t[i].parent;)o.unshift(t[i].parent),r=e(d[t[i].parent][i],r),i=t[i].parent;return r.conversion=o,r}return be=function(s){const t=a(s),o={},r=Object.keys(t);for(let i=r.length,c=0;c<i;c++){const u=r[c];t[u].parent!==null&&(o[u]=n(u,t))}return o},be}var _e,Ge;function bt(){if(Ge)return _e;Ge=1;const d=Ve(),l=pt(),a={},e=Object.keys(d);function n(t){const o=function(...r){const i=r[0];return i==null?i:(i.length>1&&(r=i),t(r))};return"conversion"in t&&(o.conversion=t.conversion),o}function s(t){const o=function(...r){const i=r[0];if(i==null)return i;i.length>1&&(r=i);const c=t(r);if(typeof c=="object")for(let u=c.length,g=0;g<u;g++)c[g]=Math.round(c[g]);return c};return"conversion"in t&&(o.conversion=t.conversion),o}return e.forEach(t=>{a[t]={},Object.defineProperty(a[t],"channels",{value:d[t].channels}),Object.defineProperty(a[t],"labels",{value:d[t].labels});const o=l(t);Object.keys(o).forEach(i=>{const c=o[i];a[t][i]=s(c),a[t][i].raw=n(c)})}),_e=a,_e}var _t=bt();const kt=tt(_t);function wt(d){if(d){const l=kt.keyword.hsl(d);return l[2]=nt.isActive?10:95,`hsl(${l[0]}, ${l[1]}%, ${l[2]}%)`}else return"none"}const xt=d=>Object.keys(d).length===0,St=()=>!0;function Ct(d){const l={};return d.forEach(a=>{l[a]=St}),l}function N(){const{emit:d,proxy:l}=Qe(),a=L(null);function e(){a.value.show()}function n(){a.value.hide()}function s(o){d("ok",o),n()}function t(){d("hide")}return Object.assign(l,{show:e,hide:n}),{dialogRef:a,onDialogHide:t,onDialogOK:s,onDialogCancel:n}}const He=["ok","hide"];N.emits=He;N.emitsObject=Ct(He);const le=I(),Ue={searchGoogle(d){if(!d)return;const l=`https://translate.google.com/?sl=${le.settings.fromLanguage}&tl=${le.settings.toLanguage}&text=${encodeURIComponent(d)}&op=translate`;window.open(l,"_blank")},searchCambridge(d){if(!d)return;const l=`https://dictionary.cambridge.org/us/dictionary/english/${encodeURIComponent(d).toLowerCase()}`;window.open(l,"_blank")},searchPealim(d){if(!d)return;const l=`https://www.pealim.com/ru/search/?q=${encodeURIComponent(d)}`;window.open(l,"_blank")},searchReverso(d){if(!d)return;const l=le.settings.fromLanguage,a=le.settings.toLanguage,e=`https://www.reverso.net/text-translation#sl=${Re.LANG_TO_CODE3[l]}&tl=${Re.LANG_TO_CODE3[a]}&text=${encodeURIComponent(d)}`;window.open(e,"_blank")}},Tt={__name:"EntryPopup",props:{entry:{type:Object,required:!0},withTopic:{type:Boolean,default:!1}},emits:[...N.emits],setup(d,{expose:l}){l();const a=me(),e=I(),n=ce(),s=d,{dialogRef:t,onDialogHide:o}=N(),r=L(s.entry),i=L(null);s.entry.opposite&&s.entry.getOpposite().then(B=>i.value=B);const c=L(null);s.withTopic&&(c.value=n.allMap[s.entry.topicId]);const u=L(!1),g=L(!1),h=L(s.entry.state.comment),T=U(e.settings,"fromLanguage"),E=U(e.settings,"toLanguage"),$=S(()=>F(T.value)),k=S(()=>F(E.value,!0)),W=S(()=>de(r.value).getComment(T.value,E.value));function F(B,ae=!1){const ge=(ae?e.dir.text+" justify-end ":"")+"cell span-";function ne(Q,G){const z=oe=>e.settings.needTransliterate()?ue(oe.T):oe.T;let H;return ae?(H=[],Q.W&&H.push(O("span",{class:"span-w"},Q.W),O("br")),Q.T&&H.push(O("span",{class:"span-t"},z(Q)))):H=Q.W,O("div",{class:ge+G},O("div",H))}function ie(Q,G){for(const z of Q)if(j[z]?.W||j[z]?.T)X.push(ne(j[z],2));else for(const H of G)j[z]?.[H]&&X.push(ne(j[z][H],1))}const X=[];let j=r.value.forms[B];return j&&(B==="ru"&&r.value.type==="A"&&(j=Oe(j)),j.W||j.T?X.push(ne(j,4)):(ie("SP","MF"),ie("MF","SP"))),O("div",{class:"container"},X)}function q(){[r.value,i.value]=[i.value,r.value],h.value=r.value.state.comment,g.value=!1}const w={$q:a,storeSettings:e,storeTopics:n,props:s,dialogRef:t,onDialogHide:o,entryRef:r,oppositeRef:i,topic:c,inputFocused:u,inputChanged:g,stateComment:h,fromLang:T,toLang:E,phraseFrom:$,phraseTo:k,comment:W,getPhraseContent:F,toggleOpposite:q,onOk:()=>{s.entry===r.value&&(h.value===null||h.value===""?delete r.value.state.comment:r.value.state.comment=h.value,r.value.saveState()),t.value.hide()},h:O,computed:S,ref:L,toRaw:de,toRef:U,get useDialogPluginComponent(){return N},get useQuasar(){return me},get GRAM_SELECTOR(){return De},get useStoreSettings(){return I},get useStoreTopics(){return ce},get transliterate(){return ue},get constructAdjRu(){return Oe},get extSearch(){return Ue},EntryItem:Ne};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}},Et={style:{height:"160px",display:"flex","justify-content":"center"}},Ft=["src"],Rt={key:0,class:"row"},Ot={class:"col"},Lt={class:"table-container"},Pt={class:"text-center text-bold text-grey"};function qt(d,l,a,e,n,s){return f(),p(Se,{ref:"dialogRef",onHide:e.onDialogHide,dir:e.storeSettings.dir.dir,position:e.inputFocused?d.$constants.POPUP_POSITION:"standard"},{default:y(()=>[m(ke,{class:"q-dialog-plugin"},{default:y(()=>[a.withTopic?(f(),p(Ce,{key:0,class:"q-px-sm"},{default:y(()=>[m(Te,{class:"text-primary text-center"},{default:y(()=>[m(K,null,{default:y(()=>[e.topic.style?.icon?(f(),p(A,{key:0,name:e.topic.style.icon},null,8,["name"])):e.topic.style?.img?(f(),p(Y,{key:1,src:e.topic.style.img,"no-spinner":"","no-native-menu":"","no-transition":"",width:"24px"},null,8,["src"])):v("",!0)]),_:1}),P(" "+b(e.topic.getName(e.fromLang)),1)]),_:1})]),_:1})):v("",!0),m(J),e.entryRef.style?.img?(f(),p(D,{key:1},{default:y(()=>[x("div",Et,[x("img",{src:e.entryRef.style.img,class:"rounded-borders",style:se(e.$q.dark.isActive&&a.entry.style.imgInvert?"filter: invert(1)":null)},null,12,Ft)])]),_:1})):e.entryRef.style?.icon?(f(),p(D,{key:2,class:"text-center"},{default:y(()=>[m(A,{name:e.entryRef.style.icon,color:e.entryRef.style.color,size:"lg"},null,8,["name","color"])]),_:1})):e.entryRef.style?.emoji?(f(),p(D,{key:3,class:"text-center text-h3"},{default:y(()=>[x("span",{class:R(e.entryRef.style.color?"text-"+e.entryRef.style.color:null)},b(e.entryRef.style.emoji),3)]),_:1})):e.entryRef.style?.color?(f(),p(D,{key:4,class:"text-center"},{default:y(()=>[m(K,{color:e.entryRef.style.color},null,8,["color"])]),_:1})):v("",!0),m(D,{class:"q-px-sm"},{default:y(()=>[e.entryRef.gender?(f(),_("div",Rt,[x("div",Ot,[m(A,{name:e.GRAM_SELECTOR.gender.icon[e.entryRef.gender[e.fromLang]],color:e.GRAM_SELECTOR.gender.color[e.entryRef.gender[e.fromLang]],size:"sm"},null,8,["name","color"])]),x("div",{class:R(["col",e.storeSettings.dir.text])},[m(A,{name:e.GRAM_SELECTOR.gender.icon[e.entryRef.gender[e.toLang]],color:e.GRAM_SELECTOR.gender.color[e.entryRef.gender[e.toLang]],size:"sm"},null,8,["name","color"])],2)])):v("",!0),x("div",Lt,[(f(),p(Z(e.phraseFrom))),(f(),p(Z(e.phraseTo)))])]),_:1}),m(D,{class:"q-px-sm"},{default:y(()=>[m(we,{modelValue:e.stateComment,"onUpdate:modelValue":[l[0]||(l[0]=t=>e.stateComment=t),l[1]||(l[1]=t=>e.inputChanged=!0)],type:"textarea",label:"Ваш комментарий",clearable:e.inputFocused,maxlength:d.$constants.USER_COMMENT_MAX_LENGTH,disable:a.entry!==e.entryRef,autogrow:"",outlined:"",dense:"",style:{"font-size":"100%"},onFocus:l[2]||(l[2]=t=>e.inputFocused=!0),onBlur:l[3]||(l[3]=t=>e.stateComment=e.stateComment.trim())},null,8,["modelValue","clearable","maxlength","disable"])]),_:1}),e.comment?(f(),p(D,{key:5,class:"q-px-sm text-italic",style:{opacity:"0.8"}},{default:y(()=>[P(b(e.comment),1)]),_:1})):v("",!0),e.oppositeRef?(f(),_("div",{key:6,class:"opposite",onClick:e.toggleOpposite},[x("div",Pt,[m(A,{name:"swap_vert",size:"16px"}),l[8]||(l[8]=P(" антоним ")),m(A,{name:"swap_vert",size:"16px"})]),m(e.EntryItem,{entry:e.oppositeRef,prevent:""},null,8,["entry"])])):v("",!0),m(J),m(xe,{class:"items-stretch no-wrap"},{default:y(()=>[m(M,{class:"col-grow",color:"primary",label:"OK",onClick:e.onOk}),m(M,{icon:"cancel",label:d.$t("Отмена"),onClick:l[4]||(l[4]=t=>d.$router.back())},null,8,["label"]),e.toLang==="en"?(f(),p(M,{key:0,onClick:l[5]||(l[5]=t=>e.extSearch.searchCambridge(e.entryRef.getBaseW(e.toLang))),padding:"sm sm",title:"Найти в словаре Cambridge (произношение)"},{default:y(()=>[m(K,{square:"",size:"sm"},{default:y(()=>[m(Y,{src:"icons/cambridge.png"})]),_:1})]),_:1})):v("",!0),e.toLang==="he"?(f(),p(M,{key:1,onClick:l[6]||(l[6]=t=>e.extSearch.searchPealim(e.entryRef.getBaseW(e.toLang))),padding:"sm sm",title:"Найти в словаре Pealim (однокоренные)"},{default:y(()=>[m(K,{square:"",size:"sm"},{default:y(()=>[m(Y,{src:"icons/pealim.png"})]),_:1})]),_:1})):v("",!0),m(M,{onClick:l[7]||(l[7]=t=>e.extSearch.searchReverso(e.entryRef.getBaseW(e.fromLang))),padding:"sm sm",title:"Поиск по примерам использования"},{default:y(()=>[m(K,{square:"",size:"sm"},{default:y(()=>[m(Y,{src:"icons/reverso.png"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide","dir","position"])}const ze=te(Tt,[["render",qt],["__scopeId","data-v-8a95ed3a"],["__file","EntryPopup.vue"]]),Mt={__name:"EntryItem",props:{entry:{type:Object,required:!0},prevent:{type:Boolean,default:!1},isGroup:{type:Boolean,default:!1},withTopic:{type:Boolean,default:!1},withFav:{type:Boolean,default:!1}},setup(d,{expose:l}){l();const a=me(),e=I(),n=Le(),s=d,t=S(()=>s.entry.getWord(e.settings,"from")),o=S(()=>s.entry.getWord(e.settings,"to")),i={$q:a,storeSettings:e,storeEntries:n,props:s,wordFrom:t,wordTo:o,showEntry:()=>re({component:ze,componentProps:{entry:s.entry,withTopic:s.withTopic}}),computed:S,get useQuasar(){return me},get useStoreSettings(){return I},get useStoreEntries(){return Le},get getHslPastelCssColor(){return wt},get dialog(){return re},EntryPopup:ze};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}};function Wt(d,l,a,e,n,s){return f(),p(ut,{clickable:"",onClick:l[1]||(l[1]=t=>a.prevent||e.showEntry()),class:R(["q-pr-sm",{"text-bold":a.isGroup||a.entry.style?.bold||a.entry.style?.header,"text-italic":a.entry.style?.italic,"q-pl-sm":e.storeSettings.dir.dir==="ltr","q-pl-none":e.storeSettings.dir.dir==="rtl"}]),style:se({backgroundColor:e.getHslPastelCssColor(a.entry.style?.bgColor)}),dense:!a.isGroup},{default:y(()=>[a.entry.style?.img||a.entry.style?.icon||a.entry.style?.emoji||a.entry.style?.color?(f(),p(ye,{key:0,avatar:"",class:R({"q-pr-sm":e.storeSettings.dir.dir==="ltr","q-pr-none q-pl-xs":e.storeSettings.dir.dir==="rtl"}),style:se({minWidth:e.storeSettings.elementSizes.avatarWidth})},{default:y(()=>[a.entry.style.img?(f(),p(Y,{key:0,src:a.entry.style.img,"no-spinner":"","no-native-menu":"",class:"rounded-borders",style:se(e.$q.dark.isActive&&a.entry.style.imgInvert?"filter: invert(1)":null)},null,8,["src","style"])):a.entry.style.icon?(f(),p(A,{key:1,name:a.entry.style.icon,color:a.entry.style.color,size:e.storeSettings.elementSizes.iconSize},null,8,["name","color","size"])):a.entry.style.emoji?(f(),_("span",{key:2,class:R([a.entry.style.color?"text-"+a.entry.style.color:null,"text-"+e.storeSettings.elementSizes.emojiSize])},b(a.entry.style.emoji),3)):a.entry.style.color?(f(),p(K,{key:3,color:a.entry.style.color,size:e.storeSettings.elementSizes.iconSize},null,8,["color","size"])):v("",!0)]),_:1},8,["class","style"])):v("",!0),m(ye,null,{default:y(()=>[m(he,{class:R({"text-uppercase":a.isGroup||a.entry.style?.header})},{default:y(()=>[P(b(e.wordFrom.W),1)]),_:1},8,["class"])]),_:1}),m(ye,{class:R(e.storeSettings.dir.text)},{default:y(()=>[e.storeSettings.settings.showOnlyT?v("",!0):(f(),p(he,{key:0,dir:e.storeSettings.toDir,style:{opacity:"0.7"}},{default:y(()=>[P(b(e.wordTo.W),1)]),_:1},8,["dir"])),m(he,{style:{opacity:"0.9","font-weight":"bold","margin-top":"2px","margin-bottom":"2px"}},{default:y(()=>[P(b(e.wordTo.T),1)]),_:1})]),_:1},8,["class"]),a.isGroup?(f(),p(M,{key:1,unelevated:"",size:"md",class:"absolute-center q-px-xl q-py-md",onClick:l[0]||(l[0]=ot(t=>e.storeEntries.toggleExpaned(a.entry),["stop"])),title:"Toggle nested","aria-label":"Toggle nested"},{default:y(()=>[m(A,{class:"expand-icon backdim",name:"keyboard_arrow_down",style:se({transform:a.entry.state.expanded?"rotate(180deg)":"rotate(0deg)"})},null,8,["style"])]),_:1})):v("",!0)]),_:1},8,["class","style","dense"])}const Ne=te(Mt,[["render",Wt],["__scopeId","data-v-b36434b3"],["__file","EntryItem.vue"]]),jt={__name:"EntryPopupVerb",props:{entry:{type:Object,required:!0},withTopic:{type:Boolean,default:!1}},emits:[...N.emits],setup(d,{expose:l}){l();const a=I(),e=ce(),n=d,{dialogRef:s,onDialogHide:t}=N(),o=L(n.entry),r=L(null);n.withTopic&&(r.value=e.allMap[n.entry.topicId]);const i=L(!1),c=L(!1),u=L(n.entry.state.comment),g=U(a.settings,"fromLanguage"),h=U(a.settings,"toLanguage"),T=S(()=>C(g.value,"inf")),E=S(()=>C(h.value,"inf",!0)),$=S(()=>C(g.value,"present")),k=S(()=>C(h.value,"present",!0)),W=S(()=>C(g.value,"past")),F=S(()=>C(h.value,"past",!0)),q=S(()=>de(o.value).getComment(g.value,h.value));function C(ae,ge,ne=!1){const ie=(ne?a.dir.text+" justify-end ":"")+"cell span-";function X(z,H){const oe=ee=>a.settings.needTransliterate()?ue(ee.T):ee.T;let V;return ne?(V=[],z.W&&V.push(O("span",{class:"span-w"},z.W),O("br")),z.T&&V.push(O("span",{class:"span-t"},oe(z)))):V=z.W,O("div",{class:ie+H},O("div",V))}function j(z,H,oe){for(const V of z)if(G[V]?.W||G[V]?.T)Q.push(X(G[V],4));else for(const ee of H)if(G[V]?.[ee])Q.push(X(G[V][ee],2));else for(const Ee of oe)G[V]?.[ee]?.[Ee]&&Q.push(X(G[V][ee][Ee],1))}const Q=[],G=o.value.forms?.[ae][ge];return G&&(G.W||G.T?Q.push(X(G,6)):(j("123","SP","MF"),j("SP","MF",""),j("SP","",""))),O("div",{class:"container"},Q)}const B={storeSettings:a,storeTopics:e,props:n,dialogRef:s,onDialogHide:t,entryRef:o,topic:r,inputFocused:i,inputChanged:c,stateComment:u,fromLang:g,toLang:h,phraseFromInf:T,phraseToInf:E,phraseFromPresent:$,phraseToPresent:k,phraseFromPast:W,phraseToPast:F,comment:q,getPhraseContent:C,onOk:()=>{u.value===null||u.value===""?delete o.value.state.comment:o.value.state.comment=u.value,o.value.saveState(),s.value.hide()},h:O,computed:S,ref:L,toRaw:de,toRef:U,get useDialogPluginComponent(){return N},get useStoreSettings(){return I},get useStoreTopics(){return ce},get transliterate(){return ue},get extSearch(){return Ue}};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}},Gt={class:"table-container"},zt={class:"table-container"},It={class:"table-container"};function Bt(d,l,a,e,n,s){return f(),p(Se,{ref:"dialogRef",onHide:e.onDialogHide,dir:e.storeSettings.dir.dir,position:e.inputFocused?d.$constants.POPUP_POSITION:"standard"},{default:y(()=>[m(ke,{class:"q-dialog-plugin"},{default:y(()=>[a.withTopic?(f(),p(Ce,{key:0,class:"q-px-sm"},{default:y(()=>[m(Te,{class:"text-primary text-center"},{default:y(()=>[m(K,null,{default:y(()=>[e.topic.style?.icon?(f(),p(A,{key:0,name:e.topic.style.icon},null,8,["name"])):e.topic.style?.img?(f(),p(Y,{key:1,src:e.topic.style.img,"no-spinner":"","no-native-menu":"","no-transition":"",width:"24px"},null,8,["src"])):v("",!0)]),_:1}),P(" "+b(e.topic.getName(e.fromLang)),1)]),_:1})]),_:1})):v("",!0),m(J),m(D,{class:"q-px-sm"},{default:y(()=>[x("div",Gt,[(f(),p(Z(e.phraseFromInf))),(f(),p(Z(e.phraseToInf)))])]),_:1}),m(J),m(D,{class:"q-px-sm"},{default:y(()=>[x("div",zt,[(f(),p(Z(e.phraseFromPresent))),(f(),p(Z(e.phraseToPresent)))])]),_:1}),m(J),m(D,{class:"q-px-sm"},{default:y(()=>[x("div",It,[(f(),p(Z(e.phraseFromPast))),(f(),p(Z(e.phraseToPast)))])]),_:1}),m(D,{class:"q-px-sm"},{default:y(()=>[m(we,{modelValue:e.stateComment,"onUpdate:modelValue":[l[0]||(l[0]=t=>e.stateComment=t),l[1]||(l[1]=t=>e.inputChanged=!0)],type:"textarea",label:"Ваш комментарий",clearable:e.inputFocused,maxlength:d.$constants.USER_COMMENT_MAX_LENGTH,disable:a.entry!==e.entryRef,autogrow:"",outlined:"",dense:"",style:{"font-size":"100%"},onFocus:l[2]||(l[2]=t=>e.inputFocused=!0),onBlur:l[3]||(l[3]=t=>e.stateComment=e.stateComment.trim())},null,8,["modelValue","clearable","maxlength","disable"])]),_:1}),e.comment?(f(),p(D,{key:1,class:"q-px-sm text-italic",style:{opacity:"0.8"}},{default:y(()=>[P(b(e.comment),1)]),_:1})):v("",!0),m(J),m(xe,{class:"items-stretch no-wrap"},{default:y(()=>[m(M,{class:"col-grow",color:"primary",label:"OK",onClick:e.onOk}),m(M,{icon:"cancel",label:d.$t("Отмена"),onClick:l[4]||(l[4]=t=>d.$router.back())},null,8,["label"]),e.toLang==="en"?(f(),p(M,{key:0,onClick:l[5]||(l[5]=t=>e.extSearch.searchCambridge(e.entryRef.getBaseW(e.toLang))),padding:"sm sm",title:"Найти в словаре Cambridge (произношение)"},{default:y(()=>[m(K,{square:"",size:"sm"},{default:y(()=>[m(Y,{src:"icons/cambridge.png"})]),_:1})]),_:1})):v("",!0),e.toLang==="he"?(f(),p(M,{key:1,onClick:l[6]||(l[6]=t=>e.extSearch.searchPealim(e.entryRef.getBaseW(e.toLang))),padding:"sm sm",title:"Найти в словаре Pealim (однокоренные)"},{default:y(()=>[m(K,{square:"",size:"sm"},{default:y(()=>[m(Y,{src:"icons/pealim.png"})]),_:1})]),_:1})):v("",!0),m(M,{onClick:l[7]||(l[7]=t=>e.extSearch.searchReverso(e.entryRef.getBaseW(e.fromLang))),padding:"sm sm",title:"Поиск по примерам использования"},{default:y(()=>[m(K,{square:"",size:"sm"},{default:y(()=>[m(Y,{src:"icons/reverso.png"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide","dir","position"])}const Ie=te(jt,[["render",Bt],["__scopeId","data-v-25322f2f"],["__file","EntryPopupVerb.vue"]]),Dt={__name:"EntryItemVerb",props:{entry:{type:Object,required:!0},prevent:{type:Boolean,default:!1},isGroup:{type:Boolean,default:!1},withTopic:{type:Boolean,default:!1},withFav:{type:Boolean,default:!1}},setup(d,{expose:l}){l();const a=I(),e=Pe(),n=U(a.settings,"fromLanguage"),s=U(a.settings,"toLanguage"),t=d,o=S(()=>!a.settings.showOnlyT),r=S(()=>s.value==="ru"&&!a.settings.showOnlyT),i=S(()=>r.value?a.dir.text:"text-center"),c=S(()=>({inf:t.entry.getWord(a.settings,"from","inf"),present:t.entry.getWord(a.settings,"from","present"),past:t.entry.getWord(a.settings,"from","past"),future:t.entry.getWord(a.settings,"from","future"),imp:t.entry.getWord(a.settings,"from","imp")})),u=S(()=>({inf:t.entry.getWord(a.settings,"to","inf"),present:t.entry.getWord(a.settings,"to","present"),past:t.entry.getWord(a.settings,"to","past"),participle:t.entry.getWord(a.settings,"to","participle"),future:t.entry.getWord(a.settings,"to","future"),imp:t.entry.getWord(a.settings,"to","imp")})),h={storeSettings:a,sFW:e,fromLang:n,toLang:s,props:t,showCenter:o,centerEnd:r,centerClass:i,verbFrom:c,verbTo:u,showEntry:()=>re({component:Ie,componentProps:{entry:t.entry,withTopic:t.withTopic}}),toRef:U,computed:S,get empty(){return xt},get useStoreSettings(){return I},get useStoreFixedWords(){return Pe},get dialog(){return re},EntryPopupVerb:Ie};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},At={class:"row inf"},Qt={class:"col"},Vt={key:0,class:"row present"},Ht={class:"col"},Ut={class:"person"},Nt={class:"person"},Kt={key:0,class:"person"},Xt={class:"row past"},Jt={class:"col"},Yt={key:0,class:"person"},Zt={key:0,class:"person"},$t={key:1,class:"row past"},en={key:2,class:"row future"},tn={class:"col"},nn={key:0,class:"person"},on={key:3,class:"row imp"},rn={class:"col"},sn=["dir"];function an(d,l,a,e,n,s){return f(),_("div",{class:"q-px-sm q-py-xs text-no-wrap",onClick:l[0]||(l[0]=t=>a.prevent||e.showEntry())},[x("div",At,[x("div",Qt,b(e.verbFrom.inf.W),1),e.showCenter?(f(),_("div",{key:0,class:R(["col",e.centerClass])},b(e.verbTo.inf.W),3)):v("",!0),e.centerEnd?v("",!0):(f(),_("div",{key:1,class:R(["col text-bold",e.storeSettings.dir.text])},b(e.verbTo.inf.T),3))]),e.empty(e.verbTo.present)?v("",!0):(f(),_("div",Vt,[x("div",Ht,[x("span",Ut,b(e.sFW.person.from.W),1),P(" "+b(e.verbFrom.present.W),1)]),e.showCenter?(f(),_("div",{key:0,class:R(["col",e.centerClass])},[x("span",Nt,b(e.sFW.person.to.W),1),P(" "+b(e.verbTo.present.W),1)],2)):v("",!0),e.centerEnd?v("",!0):(f(),_("div",{key:1,class:R(["col text-bold",e.storeSettings.dir.text])},[e.toLang==="he"?(f(),_("span",Kt,b(e.sFW.person.to.T),1)):v("",!0),P(" "+b(e.verbTo.present.T),1)],2))])),x("div",Xt,[x("div",Jt,[e.fromLang!=="he"?(f(),_("span",Yt,b(e.sFW.person.from.W),1)):v("",!0),P(" "+b(e.verbFrom.past.W),1)]),e.showCenter?(f(),_("div",{key:0,class:R(["col",e.centerClass])},[e.toLang!=="he"?(f(),_("span",Zt,b(e.sFW.person.to.W),1)):v("",!0),P(" "+b(e.verbTo.past.W),1)],2)):v("",!0),e.centerEnd?v("",!0):(f(),_("div",{key:1,class:R(["col text-bold",e.storeSettings.dir.text])},b(e.verbTo.past.T),3))]),e.empty(e.verbTo.participle)?v("",!0):(f(),_("div",$t,[l[1]||(l[1]=x("div",{class:"col"},null,-1)),e.showCenter?(f(),_("div",{key:0,class:R(["col",e.centerClass])},b(e.verbTo.participle.W),3)):v("",!0),e.centerEnd?v("",!0):(f(),_("div",{key:1,class:R(["col text-bold",e.storeSettings.dir.text])},b(e.verbTo.participle.T),3))])),e.empty(e.verbTo.future)?v("",!0):(f(),_("div",en,[x("div",tn,[e.fromLang==="ru"&&!e.verbFrom.future.W?(f(),_("span",nn,b(e.sFW.toBe.future.from.W),1)):v("",!0),P(" "+b(e.verbFrom.future.W),1)]),e.showCenter?(f(),_("div",{key:0,class:R(["col",e.centerClass])},b(e.verbTo.future.W),3)):v("",!0),e.centerEnd?v("",!0):(f(),_("div",{key:1,class:R(["col text-bold",e.storeSettings.dir.text])},b(e.verbTo.future.T),3))])),e.empty(e.verbTo.imp)?v("",!0):(f(),_("div",on,[x("div",rn,b(e.verbFrom.imp.W?e.verbFrom.imp.W+"!":""),1),e.showCenter?(f(),_("div",{key:0,class:R(["col",e.centerClass]),dir:e.storeSettings.toDir},b(e.verbTo.imp.W?e.verbTo.imp.W+"!":""),11,sn)):v("",!0),e.centerEnd?v("",!0):(f(),_("div",{key:1,class:R(["col text-bold",e.storeSettings.dir.text])},b(e.verbTo.imp.T?e.verbTo.imp.T+"!":""),3))]))])}const ln=te(Dt,[["render",an],["__scopeId","data-v-314fd8db"],["__file","EntryItemVerb.vue"]]),cn=Ae({name:"QSpace",setup(){const d=O("div",{class:"q-space"});return()=>d}}),dn={__name:"FavAddPopup",props:{entry:{type:Object,required:!0}},emits:[...N.emits],setup(d,{expose:l}){l();const a=I(),e=fe(),n=d,{dialogRef:s,onDialogHide:t}=N(),o=L(""),r=L(e.getEntryFavs(n.entry.id));async function i(){o.value.length&&r.value.push(await e.add(o.value)),e.setEntryFavs(n.entry,r.value),s.value.hide()}const c={storeSettings:a,storeFavorites:e,props:n,dialogRef:s,onDialogHide:t,name:o,selectedFavs:r,onOk:i,ref:L,get useDialogPluginComponent(){return N},get useStoreSettings(){return I},get useStoreFavorites(){return fe}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}};function un(d,l,a,e,n,s){return f(),p(Se,{ref:"dialogRef",onHide:e.onDialogHide,dir:e.storeSettings.dir.dir,position:d.$constants.POPUP_POSITION},{default:y(()=>[m(ke,{class:"q-dialog-plugin"},{default:y(()=>[m(Ce,{class:"q-px-sm"},{default:y(()=>[m(Te,{class:"text-primary"},{default:y(()=>[P(b(d.$t("Изменить группы избранного")),1)]),_:1})]),_:1}),m(J),m(D,{class:"q-py-xs"},{default:y(()=>[m(rt,{type:"checkbox",modelValue:e.selectedFavs,"onUpdate:modelValue":l[0]||(l[0]=t=>e.selectedFavs=t),options:e.storeFavorites.options,color:"primary",style:{"max-height":"240px","overflow-y":"auto"}},null,8,["modelValue","options"])]),_:1}),m(D,{class:"q-px-lg"},{default:y(()=>[m(we,{modelValue:e.name,"onUpdate:modelValue":l[1]||(l[1]=t=>e.name=t),maxlength:d.$constants.FAV_NAME_MAX_LENGTH,label:"Или создать новую и добавить в неё",outlined:"",clearable:"",dense:"",style:{"font-size":"100%"},onBlur:l[2]||(l[2]=t=>e.name=e.name.trim())},null,8,["modelValue","maxlength"])]),_:1}),m(J),m(xe,{class:"items-stretch no-wrap"},{default:y(()=>[m(M,{class:"col-grow",style:{"max-width":"120px"},color:"primary",label:"OK",onClick:e.onOk}),m(M,{icon:"cancel",label:d.$t("Отмена"),onClick:l[3]||(l[3]=t=>d.$router.back())},null,8,["label"]),m(cn)]),_:1})]),_:1})]),_:1},8,["onHide","dir","position"])}const Be=te(dn,[["render",un],["__file","FavAddPopup.vue"]]),fn={__name:"EntriesList",props:{entries:{type:Array,required:!0},favorite:{type:Object,required:!1},withGroups:{type:Boolean,default:!1},withTopic:{type:Boolean,default:!1}},setup(d,{expose:l}){l();const a=I(),e=fe(),n=d,s=U(a.settings,"fromLanguage"),t=U(a.settings,"toLanguage"),r={storeSettings:a,storeFavorites:e,props:n,fromLang:s,toLang:t,onEntrySlideLeft:({reset:i},c)=>{n.favorite?e.removeEntry(n.favorite,c.id):re({component:Be,componentProps:{entry:c}}),i()},toRef:U,get dialog(){return re},get useStoreSettings(){return I},get useStoreFavorites(){return fe},EntryItem:Ne,EntryItemVerb:ln,FavAddPopup:Be};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},mn={key:0,class:"row items-center"},gn={key:1,class:"row items-center"},yn={class:"absolute-start"},hn={class:"absolute-end"};function vn(d,l,a,e,n,s){const t=st("EntriesList",!0);return f(),p(dt,null,{default:y(()=>[(f(!0),_(at,null,it(e.props.entries,(o,r)=>(f(),_("div",{key:o.id},[x("div",{class:R([r%2?"darkness":"lightness"])},[m(ht,{"left-color":"teal",onLeft:i=>e.onEntrySlideLeft(i,o)},{left:y(()=>[a.favorite?(f(),_("div",gn,[m(A,{left:"",name:"star_border"}),l[1]||(l[1]=P(" Убрать из избранного "))])):(f(),_("div",mn,[m(A,{left:"",name:"star"}),l[0]||(l[0]=P(" В избранное "))]))]),default:y(()=>[o.type==="V"?(f(),p(e.EntryItemVerb,{key:0,entry:o,isGroup:a.withGroups&&!!o.nested,withTopic:a.withTopic,withFav:!a.favorite},null,8,["entry","isGroup","withTopic","withFav"])):(f(),p(e.EntryItem,{key:1,entry:o,isGroup:a.withGroups&&!!o.nested,withTopic:a.withTopic,withFav:!a.favorite},null,8,["entry","isGroup","withTopic","withFav"])),x("div",yn,[o.state.comment?(f(),p(A,{key:0,name:"info",color:"green",size:"10px"})):v("",!0),!a.favorite&&e.storeFavorites.entryFavsMap[o.id]?.size?(f(),p(A,{key:1,name:"star",color:"orange",size:"10px"})):v("",!0)]),x("div",hn,[o.getComment(e.fromLang,e.toLang)?(f(),p(A,{key:0,name:"info",color:"blue",size:"10px"})):v("",!0)])]),_:2},1032,["onLeft"]),m(J)],2),a.withGroups&&o.nested?(f(),p(ct,{key:0,modelValue:o.state.expanded,"onUpdate:modelValue":i=>o.state.expanded=i,"header-class":"hidden"},{default:y(()=>[m(t,{entries:o.nested,withGroups:""},null,8,["entries"])]),_:2},1032,["modelValue","onUpdate:modelValue"])):v("",!0)]))),128))]),_:1})}const En=te(fn,[["render",vn],["__scopeId","data-v-c48e350d"],["__file","EntriesList.vue"]]);export{En as E,Tn as G,cn as Q,N as a,re as d,Ue as e,yt as u};
