import{Q as P,a as h,b as V,c as S}from"./QPage-uFK66AOz.js";import{Q as E}from"./QItem-CkHPSoJp.js";import{_ as T,B as Q,K as y,u as d,H as u,G as e,F as o,I as b,E as c,J as w,L as f,M as N,Q as r,N as O,O as B,P as I,R as C,S as L,T as M,U,V as v,W as q}from"./index-DMXn43-N.js";import{Q as k}from"./QExpansionItem-5_ZKK7W4.js";import{Q as G}from"./QList-z4gfogua.js";import{G as A,E as H}from"./EntriesList-CMdrIrE9.js";import{D as W,a as j}from"./DrawerToggleBtn-D4B_2cai.js";import"./QResizeObserver-DC3WQtml.js";import"./QImg-DlSW9r7z.js";import"./use-quasar-TFzokzyr.js";import"./selection-rPBSICpB.js";import"./format-CJebrXOQ.js";const K={__name:"FavoritesPage",setup(n,{expose:s}){s();const g=Q(),t=y(),m=d(!1),l=d(null),a=d(""),i=d(!1),_=()=>m.value=!0,p=()=>m.value=!1;function D(F){l.value=F,a.value=F.name,_()}const x={storeSettings:g,storeFavorites:t,dialogVisible:m,currentFav:l,name:a,commentsExpanded:i,openEditor:_,closeEditor:p,onEditFav:D,onSaveFav:()=>{l.value.name!==a.value&&(l.value.name=a.value,l.value.save()),p()},onDeleteFav:async()=>{await t.remove(l.value),p()},ref:d,get useStoreSettings(){return Q},get useStoreFavorites(){return y},GramSelector:A,DrawerMenu:W,DrawerToggleBtn:j,EntriesList:H};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}},z={class:"text-center"},J={key:0,class:"absolute-center text-grey text-center"};function R(n,s,g,t,m,l){return c(),u(b,null,[e(t.DrawerMenu),e(P,{elevated:""},{default:o(()=>[e(V,null,{default:o(()=>[e(t.DrawerToggleBtn),e(S,null,{default:o(()=>[w("div",z,f(n.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1}),e(t.GramSelector)]),_:1})]),_:1}),e(h,{class:"q-py-xs"},{default:o(()=>[e(G,null,{default:o(()=>[(c(!0),u(b,null,N(t.storeFavorites.allOrdered,a=>(c(),u("div",{key:a.id},[e(k,{modelValue:a.expanded,"onUpdate:modelValue":[i=>a.expanded=i,i=>a.save()],"switch-toggle-side":""},{header:o(()=>[e(E,{class:"text-h6 text-primary"},{default:o(()=>[C(f(a.name),1)]),_:2},1024),e(E,{side:""},{default:o(()=>[e(v,{icon:"edit",unelevated:"",onClick:q(i=>t.onEditFav(a),["stop"]),class:"q-pr-xs"},null,8,["onClick"])]),_:2},1024)]),default:o(()=>[e(r),e(t.EntriesList,{entries:a.entryIds,favorite:a},null,8,["entries","favorite"])]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(r)]))),128))]),_:1}),e(k,{label:"–ú–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏",modelValue:t.commentsExpanded,"onUpdate:modelValue":[s[0]||(s[0]=a=>t.commentsExpanded=a),s[1]||(s[1]=a=>t.storeFavorites.loadEntriesWithComments(t.commentsExpanded))],"header-class":"text-h6","switch-toggle-side":""},{default:o(()=>[e(r),e(t.EntriesList,{entries:t.storeFavorites.entriesWithComments},null,8,["entries"])]),_:1},8,["modelValue"]),e(r),!t.commentsExpanded&&!Object.keys(t.storeFavorites.entryFavs).length?(c(),u("div",J,s[4]||(s[4]=[w("span",null,"üëâ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∂–µ—Å—Ç swipe –≤–ø—Ä–∞–≤–æ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ñ—Ä–∞–∑—É –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1)]))):O("",!0),e(B,{modelValue:t.dialogVisible,"onUpdate:modelValue":s[3]||(s[3]=a=>t.dialogVisible=a),dir:t.storeSettings.dir.dir,position:n.$constants.POPUP_POSITION},{default:o(()=>[e(I,{class:"q-dialog-plugin"},{default:o(()=>[e(V,{class:"q-px-sm"},{default:o(()=>[e(S,{class:"text-primary"},{default:o(()=>[C(f(n.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1})]),_:1}),e(r),e(L,{class:"q-px-lg"},{default:o(()=>[e(M,{modelValue:t.name,"onUpdate:modelValue":s[2]||(s[2]=a=>t.name=a),modelModifiers:{trim:!0},maxlength:n.$constants.FAV_NAME_MAX_LENGTH,placeholder:"–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ",outlined:"",dense:"",autofocus:"",style:{"font-size":"100%"}},null,8,["modelValue","maxlength"])]),_:1}),e(r),e(U,{class:"items-stretch no-wrap"},{default:o(()=>[e(v,{label:"OK",class:"col-grow",style:{"max-width":"120px"},color:"primary",onClick:t.onSaveFav}),e(v,{label:"–£–¥–∞–ª–∏—Ç—å",icon:"delete","text-color":"red-8",onClick:t.onDeleteFav}),e(v,{label:"–û—Ç–º–µ–Ω–∞",icon:"cancel",onClick:t.closeEditor})]),_:1})]),_:1})]),_:1},8,["modelValue","dir","position"])]),_:1})],64)}const me=T(K,[["render",R],["__file","FavoritesPage.vue"]]);export{me as default};
