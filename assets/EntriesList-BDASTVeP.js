import{_ as Z,B as G,E as y,H as D,C as v,V as L,N as S,G as g,aB as Oe,b as Me,ai as De,aj as Be,u as O,d as j,aC as We,k as Ue,h as M,f as Ve,am as He,g as Le,aD as Ne,aE as me,aF as Ke,aG as Xe,aH as he,aI as ye,au as Q,Z as ve,at as be,F as h,P as qe,aJ as H,a5 as R,R as z,L as B,Q as Y,S as P,J as F,a4 as X,a3 as A,aK as pe,T as Fe,U as Te,O as Pe,aw as we,K as N,W as Je,a1 as Ye,D as Ze,I as $e,M as et}from"./index-CW9XW_hH.js";import{T as tt}from"./DrawerToggleBtn-TYInJ1Jn.js";import{Q as nt}from"./QExpansionItem-BcfJsj1E.js";import{Q as ot}from"./QList-DJYmTtAX.js";import{Q as J}from"./QImg-Do2Kp9-0.js";import{Q as se,b as ae,a as rt}from"./QItem-BUCQlz5T.js";import{u as te}from"./use-quasar-DBGu4LZx.js";import{b as je,c as ze}from"./QPage-mqzLC2uf.js";const st={__name:"GramSelector",props:{withPerson:{type:Boolean,default:!1}},setup(d,{expose:c}){c();const t={storeSettings:G(),props:d,get GRAM_SELECTOR(){return Oe},get useStoreSettings(){return G}};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},at={class:"q-gutter-sm"};function it(d,c,i,a,t,r){return y(),D("div",at,[a.props.withPerson?(y(),v(L,{key:0,icon:a.GRAM_SELECTOR.person.icon[a.storeSettings.settings.gramPerson],onClick:c[0]||(c[0]=e=>a.storeSettings.toggleGramPerson()),size:"md",padding:"sm sm",title:"1/2/3 лицо"},null,8,["icon"])):S("",!0),g(L,{icon:a.GRAM_SELECTOR.number.icon[a.storeSettings.settings.gramNumber],onClick:c[1]||(c[1]=e=>a.storeSettings.toggleGramNumber()),size:"md",padding:"sm sm",title:"Единственное/множественное число"},null,8,["icon"]),g(L,{icon:a.GRAM_SELECTOR.gender.icon[a.storeSettings.settings.gramGender],"text-color":a.GRAM_SELECTOR.gender.color[a.storeSettings.settings.gramGender],onClick:c[2]||(c[2]=e=>a.storeSettings.toggleGramGender()),size:"md",padding:"sm sm",title:"Мужской/женский род"},null,8,["icon","text-color"])])}const Ht=Z(st,[["render",it],["__file","GramSelector.vue"]]);function lt(){let d=Object.create(null);return{getCache:(c,i)=>d[c]===void 0?d[c]=typeof i=="function"?i():i:d[c],setCache(c,i){d[c]=i},hasCache(c){return Object.hasOwnProperty.call(d,c)},clearCache(c){c!==void 0?delete d[c]:d=Object.create(null)}}}const ke=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]],ct=Me({name:"QSlideItem",props:{...De,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(d,{slots:c,emit:i}){const{proxy:a}=Le(),{$q:t}=a,r=Be(d,t),{getCache:e}=lt(),o=O(null);let n=null,s={},l={},u={};const f=j(()=>t.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),m=j(()=>"q-slide-item q-item-type overflow-hidden"+(r.value===!0?" q-slide-item--dark q-dark":""));function p(){o.value.style.transform="translate(0,0)"}function k(b,E,_){d.onSlide!==void 0&&i("slide",{side:b,ratio:E,isReset:_})}function K(b){const E=o.value;if(b.isFirst)s={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},E.classList.add("no-transition"),ke.forEach(w=>{if(c[w[0]]!==void 0){const q=u[w[0]];q.style.transform="scale(1)",s.size[w[0]]=q.getBoundingClientRect()[w[3]]}}),s.axis=b.direction==="up"||b.direction==="down"?"Y":"X";else if(b.isFinal){E.classList.remove("no-transition"),s.scale===1?(E.style.transform=`translate${s.axis}(${s.dir*100}%)`,n!==null&&clearTimeout(n),n=setTimeout(()=>{n=null,i(s.showing,{reset:p}),i("action",{side:s.showing,reset:p})},230)):(E.style.transform="translate(0,0)",k(s.showing,0,!0));return}else b.direction=s.axis==="X"?b.offset.x<0?"left":"right":b.offset.y<0?"up":"down";if(c.left===void 0&&b.direction===f.value.right||c.right===void 0&&b.direction===f.value.left||c.top===void 0&&b.direction==="down"||c.bottom===void 0&&b.direction==="up"){E.style.transform="translate(0,0)";return}let _,x,C;s.axis==="X"?(x=b.direction==="left"?-1:1,_=x===1?f.value.left:f.value.right,C=b.distance.x):(x=b.direction==="up"?-2:2,_=x===2?"top":"bottom",C=b.distance.y),!(s.dir!==null&&Math.abs(x)!==Math.abs(s.dir))&&(s.dir!==x&&(["left","right","top","bottom"].forEach(w=>{l[w]&&(l[w].style.visibility=_===w?"visible":"hidden")}),s.showing=_,s.dir=x),s.scale=Math.max(0,Math.min(1,(C-40)/s.size[_])),E.style.transform=`translate${s.axis}(${C*x/Math.abs(x)}px)`,u[_].style.transform=`scale(${s.scale})`,k(_,s.scale,!1))}return We(()=>{l={},u={}}),Ue(()=>{n!==null&&clearTimeout(n)}),Object.assign(a,{reset:p}),()=>{const b=[],E={left:c[f.value.right]!==void 0,right:c[f.value.left]!==void 0,up:c.bottom!==void 0,down:c.top!==void 0},_=Object.keys(E).filter(C=>E[C]===!0);ke.forEach(C=>{const w=C[0];c[w]!==void 0&&b.push(M("div",{key:w,ref:q=>{l[w]=q},class:`q-slide-item__${w} absolute-full row no-wrap items-${C[1]} justify-${C[2]}`+(d[w+"Color"]!==void 0?` bg-${d[w+"Color"]}`:"")},[M("div",{ref:q=>{u[w]=q}},c[w]())]))});const x=M("div",{key:`${_.length===0?"only-":""} content`,ref:o,class:"q-slide-item__content"},Ve(c.default));return _.length===0?b.push(x):b.push(He(x,e("dir#"+_.join(""),()=>{const C={prevent:!0,stop:!0,mouse:!0};return _.forEach(w=>{C[w]=!0}),[[tt,K,void 0,C]]}))),M("div",{class:m.value},b)}}});function ne(d){const c=Ne.create(d);let i=!1;const a=()=>{i=!0,c.hide()};return window.addEventListener("popstate",a),c.onDismiss(()=>{window.removeEventListener("popstate",a),i||(me.currentRoute.value.meta.dialog=!0,me.back())}),history.pushState({},""),c}var ie,_e;function ut(){return _e||(_e=1,ie={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),ie}var le,Se;function Ge(){if(Se)return le;Se=1;const d=ut(),c={};for(const t of Object.keys(d))c[d[t]]=t;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};le=i;for(const t of Object.keys(i)){if(!("channels"in i[t]))throw new Error("missing channels property: "+t);if(!("labels"in i[t]))throw new Error("missing channel labels property: "+t);if(i[t].labels.length!==i[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:r,labels:e}=i[t];delete i[t].channels,delete i[t].labels,Object.defineProperty(i[t],"channels",{value:r}),Object.defineProperty(i[t],"labels",{value:e})}i.rgb.hsl=function(t){const r=t[0]/255,e=t[1]/255,o=t[2]/255,n=Math.min(r,e,o),s=Math.max(r,e,o),l=s-n;let u,f;s===n?u=0:r===s?u=(e-o)/l:e===s?u=2+(o-r)/l:o===s&&(u=4+(r-e)/l),u=Math.min(u*60,360),u<0&&(u+=360);const m=(n+s)/2;return s===n?f=0:m<=.5?f=l/(s+n):f=l/(2-s-n),[u,f*100,m*100]},i.rgb.hsv=function(t){let r,e,o,n,s;const l=t[0]/255,u=t[1]/255,f=t[2]/255,m=Math.max(l,u,f),p=m-Math.min(l,u,f),k=function(K){return(m-K)/6/p+1/2};return p===0?(n=0,s=0):(s=p/m,r=k(l),e=k(u),o=k(f),l===m?n=o-e:u===m?n=1/3+r-o:f===m&&(n=2/3+e-r),n<0?n+=1:n>1&&(n-=1)),[n*360,s*100,m*100]},i.rgb.hwb=function(t){const r=t[0],e=t[1];let o=t[2];const n=i.rgb.hsl(t)[0],s=1/255*Math.min(r,Math.min(e,o));return o=1-1/255*Math.max(r,Math.max(e,o)),[n,s*100,o*100]},i.rgb.cmyk=function(t){const r=t[0]/255,e=t[1]/255,o=t[2]/255,n=Math.min(1-r,1-e,1-o),s=(1-r-n)/(1-n)||0,l=(1-e-n)/(1-n)||0,u=(1-o-n)/(1-n)||0;return[s*100,l*100,u*100,n*100]};function a(t,r){return(t[0]-r[0])**2+(t[1]-r[1])**2+(t[2]-r[2])**2}return i.rgb.keyword=function(t){const r=c[t];if(r)return r;let e=1/0,o;for(const n of Object.keys(d)){const s=d[n],l=a(t,s);l<e&&(e=l,o=n)}return o},i.keyword.rgb=function(t){return d[t]},i.rgb.xyz=function(t){let r=t[0]/255,e=t[1]/255,o=t[2]/255;r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92;const n=r*.4124+e*.3576+o*.1805,s=r*.2126+e*.7152+o*.0722,l=r*.0193+e*.1192+o*.9505;return[n*100,s*100,l*100]},i.rgb.lab=function(t){const r=i.rgb.xyz(t);let e=r[0],o=r[1],n=r[2];e/=95.047,o/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const s=116*o-16,l=500*(e-o),u=200*(o-n);return[s,l,u]},i.hsl.rgb=function(t){const r=t[0]/360,e=t[1]/100,o=t[2]/100;let n,s,l;if(e===0)return l=o*255,[l,l,l];o<.5?n=o*(1+e):n=o+e-o*e;const u=2*o-n,f=[0,0,0];for(let m=0;m<3;m++)s=r+1/3*-(m-1),s<0&&s++,s>1&&s--,6*s<1?l=u+(n-u)*6*s:2*s<1?l=n:3*s<2?l=u+(n-u)*(2/3-s)*6:l=u,f[m]=l*255;return f},i.hsl.hsv=function(t){const r=t[0];let e=t[1]/100,o=t[2]/100,n=e;const s=Math.max(o,.01);o*=2,e*=o<=1?o:2-o,n*=s<=1?s:2-s;const l=(o+e)/2,u=o===0?2*n/(s+n):2*e/(o+e);return[r,u*100,l*100]},i.hsv.rgb=function(t){const r=t[0]/60,e=t[1]/100;let o=t[2]/100;const n=Math.floor(r)%6,s=r-Math.floor(r),l=255*o*(1-e),u=255*o*(1-e*s),f=255*o*(1-e*(1-s));switch(o*=255,n){case 0:return[o,f,l];case 1:return[u,o,l];case 2:return[l,o,f];case 3:return[l,u,o];case 4:return[f,l,o];case 5:return[o,l,u]}},i.hsv.hsl=function(t){const r=t[0],e=t[1]/100,o=t[2]/100,n=Math.max(o,.01);let s,l;l=(2-e)*o;const u=(2-e)*n;return s=e*n,s/=u<=1?u:2-u,s=s||0,l/=2,[r,s*100,l*100]},i.hwb.rgb=function(t){const r=t[0]/360;let e=t[1]/100,o=t[2]/100;const n=e+o;let s;n>1&&(e/=n,o/=n);const l=Math.floor(6*r),u=1-o;s=6*r-l,l&1&&(s=1-s);const f=e+s*(u-e);let m,p,k;switch(l){default:case 6:case 0:m=u,p=f,k=e;break;case 1:m=f,p=u,k=e;break;case 2:m=e,p=u,k=f;break;case 3:m=e,p=f,k=u;break;case 4:m=f,p=e,k=u;break;case 5:m=u,p=e,k=f;break}return[m*255,p*255,k*255]},i.cmyk.rgb=function(t){const r=t[0]/100,e=t[1]/100,o=t[2]/100,n=t[3]/100,s=1-Math.min(1,r*(1-n)+n),l=1-Math.min(1,e*(1-n)+n),u=1-Math.min(1,o*(1-n)+n);return[s*255,l*255,u*255]},i.xyz.rgb=function(t){const r=t[0]/100,e=t[1]/100,o=t[2]/100;let n,s,l;return n=r*3.2406+e*-1.5372+o*-.4986,s=r*-.9689+e*1.8758+o*.0415,l=r*.0557+e*-.204+o*1.057,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,n=Math.min(Math.max(0,n),1),s=Math.min(Math.max(0,s),1),l=Math.min(Math.max(0,l),1),[n*255,s*255,l*255]},i.xyz.lab=function(t){let r=t[0],e=t[1],o=t[2];r/=95.047,e/=100,o/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,e=e>.008856?e**(1/3):7.787*e+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;const n=116*e-16,s=500*(r-e),l=200*(e-o);return[n,s,l]},i.lab.xyz=function(t){const r=t[0],e=t[1],o=t[2];let n,s,l;s=(r+16)/116,n=e/500+s,l=s-o/200;const u=s**3,f=n**3,m=l**3;return s=u>.008856?u:(s-16/116)/7.787,n=f>.008856?f:(n-16/116)/7.787,l=m>.008856?m:(l-16/116)/7.787,n*=95.047,s*=100,l*=108.883,[n,s,l]},i.lab.lch=function(t){const r=t[0],e=t[1],o=t[2];let n;n=Math.atan2(o,e)*360/2/Math.PI,n<0&&(n+=360);const l=Math.sqrt(e*e+o*o);return[r,l,n]},i.lch.lab=function(t){const r=t[0],e=t[1],n=t[2]/360*2*Math.PI,s=e*Math.cos(n),l=e*Math.sin(n);return[r,s,l]},i.rgb.ansi16=function(t,r=null){const[e,o,n]=t;let s=r===null?i.rgb.hsv(t)[2]:r;if(s=Math.round(s/50),s===0)return 30;let l=30+(Math.round(n/255)<<2|Math.round(o/255)<<1|Math.round(e/255));return s===2&&(l+=60),l},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){const r=t[0],e=t[1],o=t[2];return r===e&&e===o?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(e/255*5)+Math.round(o/255*5)},i.ansi16.rgb=function(t){let r=t%10;if(r===0||r===7)return t>50&&(r+=3.5),r=r/10.5*255,[r,r,r];const e=(~~(t>50)+1)*.5,o=(r&1)*e*255,n=(r>>1&1)*e*255,s=(r>>2&1)*e*255;return[o,n,s]},i.ansi256.rgb=function(t){if(t>=232){const s=(t-232)*10+8;return[s,s,s]}t-=16;let r;const e=Math.floor(t/36)/5*255,o=Math.floor((r=t%36)/6)/5*255,n=r%6/5*255;return[e,o,n]},i.rgb.hex=function(t){const e=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){const r=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!r)return[0,0,0];let e=r[0];r[0].length===3&&(e=e.split("").map(u=>u+u).join(""));const o=parseInt(e,16),n=o>>16&255,s=o>>8&255,l=o&255;return[n,s,l]},i.rgb.hcg=function(t){const r=t[0]/255,e=t[1]/255,o=t[2]/255,n=Math.max(Math.max(r,e),o),s=Math.min(Math.min(r,e),o),l=n-s;let u,f;return l<1?u=s/(1-l):u=0,l<=0?f=0:n===r?f=(e-o)/l%6:n===e?f=2+(o-r)/l:f=4+(r-e)/l,f/=6,f%=1,[f*360,l*100,u*100]},i.hsl.hcg=function(t){const r=t[1]/100,e=t[2]/100,o=e<.5?2*r*e:2*r*(1-e);let n=0;return o<1&&(n=(e-.5*o)/(1-o)),[t[0],o*100,n*100]},i.hsv.hcg=function(t){const r=t[1]/100,e=t[2]/100,o=r*e;let n=0;return o<1&&(n=(e-o)/(1-o)),[t[0],o*100,n*100]},i.hcg.rgb=function(t){const r=t[0]/360,e=t[1]/100,o=t[2]/100;if(e===0)return[o*255,o*255,o*255];const n=[0,0,0],s=r%1*6,l=s%1,u=1-l;let f=0;switch(Math.floor(s)){case 0:n[0]=1,n[1]=l,n[2]=0;break;case 1:n[0]=u,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=l;break;case 3:n[0]=0,n[1]=u,n[2]=1;break;case 4:n[0]=l,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=u}return f=(1-e)*o,[(e*n[0]+f)*255,(e*n[1]+f)*255,(e*n[2]+f)*255]},i.hcg.hsv=function(t){const r=t[1]/100,e=t[2]/100,o=r+e*(1-r);let n=0;return o>0&&(n=r/o),[t[0],n*100,o*100]},i.hcg.hsl=function(t){const r=t[1]/100,o=t[2]/100*(1-r)+.5*r;let n=0;return o>0&&o<.5?n=r/(2*o):o>=.5&&o<1&&(n=r/(2*(1-o))),[t[0],n*100,o*100]},i.hcg.hwb=function(t){const r=t[1]/100,e=t[2]/100,o=r+e*(1-r);return[t[0],(o-r)*100,(1-o)*100]},i.hwb.hcg=function(t){const r=t[1]/100,o=1-t[2]/100,n=o-r;let s=0;return n<1&&(s=(o-n)/(1-n)),[t[0],n*100,s*100]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=function(t){return[0,0,t[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){const r=Math.round(t[0]/100*255)&255,o=((r<<16)+(r<<8)+r).toString(16).toUpperCase();return"000000".substring(o.length)+o},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]},le}var ce,xe;function dt(){if(xe)return ce;xe=1;const d=Ge();function c(){const r={},e=Object.keys(d);for(let o=e.length,n=0;n<o;n++)r[e[n]]={distance:-1,parent:null};return r}function i(r){const e=c(),o=[r];for(e[r].distance=0;o.length;){const n=o.pop(),s=Object.keys(d[n]);for(let l=s.length,u=0;u<l;u++){const f=s[u],m=e[f];m.distance===-1&&(m.distance=e[n].distance+1,m.parent=n,o.unshift(f))}}return e}function a(r,e){return function(o){return e(r(o))}}function t(r,e){const o=[e[r].parent,r];let n=d[e[r].parent][r],s=e[r].parent;for(;e[s].parent;)o.unshift(e[s].parent),n=a(d[e[s].parent][s],n),s=e[s].parent;return n.conversion=o,n}return ce=function(r){const e=i(r),o={},n=Object.keys(e);for(let s=n.length,l=0;l<s;l++){const u=n[l];e[u].parent!==null&&(o[u]=t(u,e))}return o},ce}var ue,Ce;function ft(){if(Ce)return ue;Ce=1;const d=Ge(),c=dt(),i={},a=Object.keys(d);function t(e){const o=function(...n){const s=n[0];return s==null?s:(s.length>1&&(n=s),e(n))};return"conversion"in e&&(o.conversion=e.conversion),o}function r(e){const o=function(...n){const s=n[0];if(s==null)return s;s.length>1&&(n=s);const l=e(n);if(typeof l=="object")for(let u=l.length,f=0;f<u;f++)l[f]=Math.round(l[f]);return l};return"conversion"in e&&(o.conversion=e.conversion),o}return a.forEach(e=>{i[e]={},Object.defineProperty(i[e],"channels",{value:d[e].channels}),Object.defineProperty(i[e],"labels",{value:d[e].labels});const o=c(e);Object.keys(o).forEach(s=>{const l=o[s];i[e][s]=r(l),i[e][s].raw=t(l)})}),ue=i,ue}var gt=ft();const mt=Ke(gt);function ht(d){if(d){const c=mt.keyword.hsl(d);return c[2]=Xe.isActive?10:95,`hsl(${c[0]}, ${c[1]}%, ${c[2]}%)`}else return"none"}const yt=()=>!0;function vt(d){const c={};return d.forEach(i=>{c[i]=yt}),c}function W(){const{emit:d,proxy:c}=Le(),i=O(null);function a(){i.value.show()}function t(){i.value.hide()}function r(o){d("ok",o),t()}function e(){d("hide")}return Object.assign(c,{show:a,hide:t}),{dialogRef:i,onDialogHide:e,onDialogOK:r,onDialogCancel:t}}const Ie=["ok","hide"];W.emits=Ie;W.emitsObject=vt(Ie);const ee=G(),bt={searchGoogle(d){if(!d)return;const c=`https://translate.google.com/?sl=${ee.settings.fromLanguage}&tl=${ee.settings.toLanguage}&text=${encodeURIComponent(d)}&op=translate`;window.open(c,"_blank")},searchCambridge(d){if(!d)return;const c=`https://dictionary.cambridge.org/us/dictionary/english/${encodeURIComponent(d).toLowerCase()}`;window.open(c,"_blank")},searchPealim(d){if(!d)return;const c=`https://www.pealim.com/ru/search/?q=${encodeURIComponent(d)}`;window.open(c,"_blank")},searchReverso(d){if(!d)return;const c=ee.settings.fromLanguage,i=ee.settings.toLanguage,a=`https://www.reverso.net/text-translation#sl=${he.LANG_TO_CODE3[c]}&tl=${he.LANG_TO_CODE3[i]}&text=${encodeURIComponent(d)}`;window.open(a,"_blank")}},pt={__name:"EntryPopup",props:{entry:{type:Object,required:!0},withTopic:{type:Boolean,default:!1}},emits:[...W.emits],setup(d,{expose:c}){c();const i=te(),a=G(),t=ye(),r=d,{dialogRef:e,onDialogHide:o}=W(),n=O(r.entry),s=O(null);r.entry.opposite&&r.entry.getOpposite().then(q=>s.value=q);const l=O(null);r.withTopic&&(l.value=t.allMap[r.entry.topicId]);const u=O(!1),f=O(!1),m=O(r.entry.state.comment),p=Q(a.settings,"fromLanguage"),k=Q(a.settings,"toLanguage"),K=j(()=>_(p.value)),b=j(()=>_(k.value,!0)),E=j(()=>ve(n.value).getComment(p.value,k.value));function _(q,de=!1){const Ae=(de?a.dir.text+" justify-end ":"")+"cell span-";function oe(U,re){const V=ge=>a.needTransliterate?be(ge.T):ge.T;let I;return de?(I=[],U.W&&I.push(M("span",{class:"span-w"},U.W),M("br")),U.T&&I.push(M("span",{class:"span-t"},V(U)))):I=U.W,M("div",{class:Ae+re},M("div",I))}function fe(U,re){for(const V of U)if(T[V]?.W||T[V]?.T)$.push(oe(T[V],2));else for(const I of re)T[V]?.[I]&&$.push(oe(T[V][I],1))}const $=[],T=n.value.forms?.[q];return T&&(T.W||T.T?$.push(oe(T,4)):(fe("SP","MF"),fe("MF","SP"))),M("div",{class:"container"},$)}function x(){[n.value,s.value]=[s.value,n.value],m.value=n.value.state.comment,f.value=!1}const w={$q:i,storeSettings:a,storeTopics:t,props:r,dialogRef:e,onDialogHide:o,entryRef:n,oppositeRef:s,topic:l,inputFocused:u,inputChanged:f,stateComment:m,fromLang:p,toLang:k,phraseFrom:K,phraseTo:b,comment:E,getPhraseContent:_,toggleOpposite:x,onOk:()=>{r.entry===n.value&&(m.value===null||m.value===""?delete n.value.state.comment:n.value.state.comment=m.value,n.value.saveState()),e.value.hide()},h:M,computed:j,ref:O,toRaw:ve,toRef:Q,get useDialogPluginComponent(){return W},get useQuasar(){return te},get GRAM_SELECTOR(){return Oe},get useStoreSettings(){return G},get useStoreTopics(){return ye},get transliterate(){return be},get extSearch(){return bt},EntryItem:Qe};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}},wt={style:{height:"160px",display:"flex","justify-content":"center"}},kt=["src"],_t={key:0,class:"row"},St={class:"col"},xt={class:"table-container"},Ct={class:"text-center text-bold text-grey"};function Et(d,c,i,a,t,r){return y(),v(Pe,{ref:"dialogRef",onHide:a.onDialogHide,dir:a.storeSettings.dir.dir,position:a.inputFocused?d.$constants.POPUP_POSITION:"standard"},{default:h(()=>[g(qe,{class:"q-dialog-plugin"},{default:h(()=>[i.withTopic?(y(),v(je,{key:0,class:"q-px-sm"},{default:h(()=>[g(ze,{class:"text-primary text-center"},{default:h(()=>[g(H,null,{default:h(()=>[a.topic.style?.icon?(y(),v(R,{key:0,name:a.topic.style.icon},null,8,["name"])):a.topic.style?.img?(y(),v(J,{key:1,src:a.topic.style.img,"no-spinner":"","no-native-menu":"","no-transition":"",width:"24px"},null,8,["src"])):S("",!0)]),_:1}),z(" "+B(a.topic.getName(a.storeSettings.settings.fromLanguage)),1)]),_:1})]),_:1})):S("",!0),g(Y),a.entryRef.style?.img?(y(),v(P,{key:1},{default:h(()=>[F("div",wt,[F("img",{src:a.entryRef.style.img,class:"rounded-borders",style:X(a.$q.dark.isActive&&i.entry.style.imgInvert?"filter: invert(1)":null)},null,12,kt)])]),_:1})):a.entryRef.style?.icon?(y(),v(P,{key:2,class:"text-center"},{default:h(()=>[g(R,{name:a.entryRef.style.icon,color:a.entryRef.style.color,size:"lg"},null,8,["name","color"])]),_:1})):a.entryRef.style?.emoji?(y(),v(P,{key:3,class:"text-center text-h3"},{default:h(()=>[F("span",{class:A(a.entryRef.style.color?"text-"+a.entryRef.style.color:null)},B(a.entryRef.style.emoji),3)]),_:1})):a.entryRef.style?.color?(y(),v(P,{key:4,class:"text-center"},{default:h(()=>[g(H,{color:a.entryRef.style.color},null,8,["color"])]),_:1})):S("",!0),g(P,{class:"q-px-sm"},{default:h(()=>[a.entryRef.gender?(y(),D("div",_t,[F("div",St,[g(R,{name:a.GRAM_SELECTOR.gender.icon[a.entryRef.gender[a.fromLang]],color:a.GRAM_SELECTOR.gender.color[a.entryRef.gender[a.fromLang]],size:"sm"},null,8,["name","color"])]),F("div",{class:A(["col",a.storeSettings.dir.text])},[g(R,{name:a.GRAM_SELECTOR.gender.icon[a.entryRef.gender[a.toLang]],color:a.GRAM_SELECTOR.gender.color[a.entryRef.gender[a.toLang]],size:"sm"},null,8,["name","color"])],2)])):S("",!0),F("div",xt,[(y(),v(pe(a.phraseFrom))),(y(),v(pe(a.phraseTo)))])]),_:1}),g(P,{class:"q-px-sm"},{default:h(()=>[g(Fe,{modelValue:a.stateComment,"onUpdate:modelValue":[c[0]||(c[0]=e=>a.stateComment=e),c[1]||(c[1]=e=>a.inputChanged=!0)],type:"textarea",label:"Ваш комментарий",clearable:a.inputFocused,maxlength:d.$constants.USER_COMMENT_MAX_LENGTH,disable:i.entry!==a.entryRef,autogrow:"",outlined:"",dense:"",style:{"font-size":"100%"},onFocus:c[2]||(c[2]=e=>a.inputFocused=!0),onBlur:c[3]||(c[3]=e=>a.stateComment=a.stateComment.trim())},null,8,["modelValue","clearable","maxlength","disable"])]),_:1}),a.comment?(y(),v(P,{key:5,class:"q-px-sm text-italic",style:{opacity:"0.8"}},{default:h(()=>[z(B(a.comment),1)]),_:1})):S("",!0),a.oppositeRef?(y(),D("div",{key:6,class:"opposite",onClick:a.toggleOpposite},[F("div",Ct,[g(R,{name:"swap_vert",size:"16px"}),c[8]||(c[8]=z(" антоним ")),g(R,{name:"swap_vert",size:"16px"})]),g(a.EntryItem,{entry:a.oppositeRef,prevent:""},null,8,["entry"])])):S("",!0),g(Y),g(Te,{class:"items-stretch no-wrap"},{default:h(()=>[g(L,{class:"col-grow",color:"primary",label:"OK",onClick:a.onOk}),g(L,{icon:"cancel",label:d.$t("Отмена"),onClick:c[4]||(c[4]=e=>d.$router.back())},null,8,["label"]),a.toLang==="en"?(y(),v(L,{key:0,onClick:c[5]||(c[5]=e=>a.extSearch.searchCambridge(a.entryRef.getWord(a.toLang).W)),padding:"sm sm",title:"Найти в словаре Cambridge (произношение)"},{default:h(()=>[g(H,{square:"",size:"sm"},{default:h(()=>[g(J,{src:"icons/cambridge.png"})]),_:1})]),_:1})):S("",!0),a.toLang==="he"?(y(),v(L,{key:1,onClick:c[6]||(c[6]=e=>a.extSearch.searchPealim(a.entryRef.getWord(a.toLang).W)),padding:"sm sm",title:"Найти в словаре Pealim (однокоренные)"},{default:h(()=>[g(H,{square:"",size:"sm"},{default:h(()=>[g(J,{src:"icons/pealim.png"})]),_:1})]),_:1})):S("",!0),g(L,{onClick:c[7]||(c[7]=e=>a.extSearch.searchReverso(a.entryRef.getWord(a.fromLang).W)),padding:"sm sm",title:"Поиск по примерам использования"},{default:h(()=>[g(H,{square:"",size:"sm"},{default:h(()=>[g(J,{src:"icons/reverso.png"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide","dir","position"])}const Ee=Z(pt,[["render",Et],["__scopeId","data-v-8da4e7ca"],["__file","EntryPopup.vue"]]),Rt={__name:"EntryItem",props:{entry:{type:Object,required:!0},prevent:{type:Boolean,default:!1},isGroup:{type:Boolean,default:!1},withTopic:{type:Boolean,default:!1},withFav:{type:Boolean,default:!1}},setup(d,{expose:c}){c();const i=te(),a=G(),t=we(),r=N(),e=Q(a.settings,"fromLanguage"),o=Q(a.settings,"toLanguage"),n=Q(a.settings,"gramGender"),s=Q(a.settings,"gramNumber"),l=d,u=j(()=>l.entry.getWord(e.value,s.value,n.value)),f=j(()=>l.entry.getWord(o.value,s.value,n.value,a.needTransliterate)),p={$q:i,storeSettings:a,storeEntries:t,storeFavorites:r,fromLang:e,toLang:o,gender:n,number:s,props:l,wordFrom:u,wordTo:f,showEntry:()=>ne({component:Ee,componentProps:{entry:l.entry,withTopic:l.withTopic}}),toRef:Q,computed:j,get useQuasar(){return te},get useStoreSettings(){return G},get useStoreEntries(){return we},get useStoreFavorites(){return N},get getHslPastelCssColor(){return ht},get dialog(){return ne},EntryPopup:Ee};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}},Ot={class:"absolute-start"},Mt={class:"absolute-end"};function Lt(d,c,i,a,t,r){return y(),v(rt,{clickable:"",onClick:c[1]||(c[1]=e=>i.prevent||a.showEntry()),class:A(["q-pr-sm",{"text-bold":i.isGroup||i.entry.style?.bold||i.entry.style?.header,"text-italic":i.entry.style?.italic,"q-pl-sm":a.storeSettings.dir.dir==="ltr","q-pl-none":a.storeSettings.dir.dir==="rtl"}]),style:X({backgroundColor:a.getHslPastelCssColor(i.entry.style?.bgColor)}),dense:!i.isGroup},{default:h(()=>[i.entry.style?.img||i.entry.style?.icon||i.entry.style?.emoji||i.entry.style?.color?(y(),v(se,{key:0,avatar:"",class:A({"q-pr-sm":a.storeSettings.dir.dir==="ltr","q-pr-none q-pl-xs":a.storeSettings.dir.dir==="rtl"}),style:X({minWidth:a.storeSettings.elementSizes.avatarWidth})},{default:h(()=>[i.entry.style.img?(y(),v(J,{key:0,src:i.entry.style.img,"no-spinner":"","no-native-menu":"",class:"rounded-borders",style:X(a.$q.dark.isActive&&i.entry.style.imgInvert?"filter: invert(1)":null)},null,8,["src","style"])):i.entry.style.icon?(y(),v(R,{key:1,name:i.entry.style.icon,color:i.entry.style.color,size:a.storeSettings.elementSizes.iconSize},null,8,["name","color","size"])):i.entry.style.emoji?(y(),D("span",{key:2,class:A([i.entry.style.color?"text-"+i.entry.style.color:null,"text-"+a.storeSettings.elementSizes.emojiSize])},B(i.entry.style.emoji),3)):i.entry.style.color?(y(),v(H,{key:3,color:i.entry.style.color,size:a.storeSettings.elementSizes.iconSize},null,8,["color","size"])):S("",!0)]),_:1},8,["class","style"])):S("",!0),g(se,null,{default:h(()=>[g(ae,{class:A({"text-uppercase":i.isGroup||i.entry.style?.header})},{default:h(()=>[z(B(a.wordFrom.W),1)]),_:1},8,["class"])]),_:1}),g(se,{class:A(a.storeSettings.dir.text)},{default:h(()=>[a.storeSettings.settings.showOnlyT?S("",!0):(y(),v(ae,{key:0,style:{opacity:"0.7"}},{default:h(()=>[z(B(a.wordTo.W),1)]),_:1})),g(ae,{style:{opacity:"0.9","font-weight":"bold","margin-top":"2px","margin-bottom":"2px"}},{default:h(()=>[z(B(a.wordTo.T),1)]),_:1})]),_:1},8,["class"]),i.isGroup?(y(),v(L,{key:1,unelevated:"",size:"md",class:"absolute-center q-px-xl q-py-md",onClick:c[0]||(c[0]=Je(e=>a.storeEntries.toggleExpaned(i.entry),["stop"]))},{default:h(()=>[g(R,{class:"expand-icon backdim",name:"keyboard_arrow_down",style:X({transform:i.entry.state.expanded?"rotate(180deg)":"rotate(0deg)"})},null,8,["style"])]),_:1})):S("",!0),F("div",Ot,[i.entry.state.comment?(y(),v(R,{key:0,name:"info",color:"green",size:"10px"})):S("",!0),i.withFav&&a.storeFavorites.entryFavsMap[i.entry.id]?.size?(y(),v(R,{key:1,name:"star",color:"orange",size:"10px"})):S("",!0)]),F("div",Mt,[i.entry.getComment(a.fromLang,a.toLang)?(y(),v(R,{key:0,name:"info",color:"blue",size:"10px"})):S("",!0)])]),_:1},8,["class","style","dense"])}const Qe=Z(Rt,[["render",Lt],["__scopeId","data-v-238c0fd0"],["__file","EntryItem.vue"]]),qt=Me({name:"QSpace",setup(){const d=M("div",{class:"q-space"});return()=>d}}),Ft={__name:"FavAddPopup",props:{entry:{type:Object,required:!0}},emits:[...W.emits],setup(d,{expose:c}){c();const i=G(),a=N(),t=d,{dialogRef:r,onDialogHide:e}=W(),o=O(""),n=O(a.getEntryFavs(t.entry.id));async function s(){o.value.length&&n.value.push(await a.add(o.value)),a.setEntryFavs(t.entry,n.value),r.value.hide()}const l={storeSettings:i,storeFavorites:a,props:t,dialogRef:r,onDialogHide:e,name:o,selectedFavs:n,onOk:s,ref:O,get useDialogPluginComponent(){return W},get useStoreSettings(){return G},get useStoreFavorites(){return N}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}};function Tt(d,c,i,a,t,r){return y(),v(Pe,{ref:"dialogRef",onHide:a.onDialogHide,dir:a.storeSettings.dir.dir,position:d.$constants.POPUP_POSITION},{default:h(()=>[g(qe,{class:"q-dialog-plugin"},{default:h(()=>[g(je,{class:"q-px-sm"},{default:h(()=>[g(ze,{class:"text-primary"},{default:h(()=>[z(B(d.$t("Изменить группы избранного")),1)]),_:1})]),_:1}),g(Y),g(P,{class:"q-py-xs"},{default:h(()=>[g(Ye,{type:"checkbox",modelValue:a.selectedFavs,"onUpdate:modelValue":c[0]||(c[0]=e=>a.selectedFavs=e),options:a.storeFavorites.options,color:"primary",style:{"max-height":"240px","overflow-y":"auto"}},null,8,["modelValue","options"])]),_:1}),g(P,{class:"q-px-lg"},{default:h(()=>[g(Fe,{modelValue:a.name,"onUpdate:modelValue":c[1]||(c[1]=e=>a.name=e),maxlength:d.$constants.FAV_NAME_MAX_LENGTH,label:"Или создать новую и добавить в неё",outlined:"",clearable:"",dense:"",style:{"font-size":"100%"},onBlur:c[2]||(c[2]=e=>a.name=a.name.trim())},null,8,["modelValue","maxlength"])]),_:1}),g(Y),g(Te,{class:"items-stretch no-wrap"},{default:h(()=>[g(L,{class:"col-grow",style:{"max-width":"120px"},color:"primary",label:"OK",onClick:a.onOk}),g(L,{icon:"cancel",label:d.$t("Отмена"),onClick:c[3]||(c[3]=e=>d.$router.back())},null,8,["label"]),g(qt)]),_:1})]),_:1})]),_:1},8,["onHide","dir","position"])}const Re=Z(Ft,[["render",Tt],["__file","FavAddPopup.vue"]]),Pt={__name:"EntriesList",props:{entries:{type:Array,required:!0},favorite:{type:Object,required:!1},withGroups:{type:Boolean,default:!1},withTopic:{type:Boolean,default:!1}},setup(d,{expose:c}){c();const i=N(),a=d,r={storeFavorites:i,props:a,onEntrySlideLeft:({reset:e},o)=>{a.favorite?i.removeEntry(a.favorite,o.id):ne({component:Re,componentProps:{entry:o}}),e()},get dialog(){return ne},get useStoreFavorites(){return N},EntryItem:Qe,FavAddPopup:Re};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},jt={key:0,class:"row items-center"},zt={key:1,class:"row items-center"};function Gt(d,c,i,a,t,r){const e=Ze("EntriesList",!0);return y(),v(ot,null,{default:h(()=>[(y(!0),D($e,null,et(a.props.entries,(o,n)=>(y(),D("div",{key:o.id},[F("div",{class:A([n%2?"darkness":"lightness"])},[g(ct,{"left-color":"teal",onLeft:s=>a.onEntrySlideLeft(s,o)},{left:h(()=>[i.favorite?(y(),D("div",zt,[g(R,{left:"",name:"star_border"}),c[1]||(c[1]=z(" Убрать из избранного "))])):(y(),D("div",jt,[g(R,{left:"",name:"star"}),c[0]||(c[0]=z(" В избранное "))]))]),default:h(()=>[g(a.EntryItem,{entry:o,isGroup:i.withGroups&&!!o.nested,withTopic:i.withTopic,withFav:!i.favorite},null,8,["entry","isGroup","withTopic","withFav"])]),_:2},1032,["onLeft"]),g(Y)],2),i.withGroups&&o.nested?(y(),v(nt,{key:0,modelValue:o.state.expanded,"onUpdate:modelValue":s=>o.state.expanded=s,"header-class":"hidden"},{default:h(()=>[g(e,{entries:o.nested,withGroups:""},null,8,["entries"])]),_:2},1032,["modelValue","onUpdate:modelValue"])):S("",!0)]))),128))]),_:1})}const Nt=Z(Pt,[["render",Gt],["__scopeId","data-v-ed3a9c32"],["__file","EntriesList.vue"]]);export{Nt as E,Ht as G,qt as Q,W as a,ne as d,bt as e,lt as u};
