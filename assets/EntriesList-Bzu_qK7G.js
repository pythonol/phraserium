import{_ as V,B as F,E as y,H as A,C as b,V as M,N as C,G as g,aB as Ee,b as Re,ai as Te,aj as Ie,u as L,d as z,aC as Ge,k as Qe,h as R,f as Ae,am as De,g as Oe,aD as He,aE as ge,aF as Be,aG as We,aH as me,au as q,Z as he,at as ye,F as h,P as Le,S as j,J as G,a4 as X,a5 as O,a3 as Q,L as U,aI as K,aJ as ve,T as Me,R as D,Q as $,U as qe,O as Fe,K as ee,a1 as Ue,aw as be,D as Ve,I as Ne,M as Ke}from"./index-eIAw_YkU.js";import{T as Xe}from"./DrawerToggleBtn-DiiY47NO.js";import{Q as Je}from"./QExpansionItem-By0xjVAu.js";import{Q as Ye}from"./QList-D53gvxev.js";import{Q as Z}from"./QImg-CO4RHjs9.js";import{Q as se,b as ae,a as Ze}from"./QItem-BVs9uDIs.js";import{u as te}from"./use-quasar-CRhApBQo.js";import{b as $e,c as et}from"./QPage-Cr6T2djw.js";const tt={__name:"GramSelector",props:{withPerson:{type:Boolean,default:!1}},setup(d,{expose:c}){c();const e={storeSettings:F(),props:d,get GRAM_SELECTOR(){return Ee},get useStoreSettings(){return F}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},nt={class:"q-gutter-sm"};function ot(d,c,i,a,e,r){return y(),A("div",nt,[a.props.withPerson?(y(),b(M,{key:0,icon:a.GRAM_SELECTOR.person.icon[a.storeSettings.settings.gramPerson],onClick:c[0]||(c[0]=n=>a.storeSettings.toggleGramPerson()),size:"md",padding:"sm sm",title:"1/2/3 лицо"},null,8,["icon"])):C("",!0),g(M,{icon:a.GRAM_SELECTOR.number.icon[a.storeSettings.settings.gramNumber],onClick:c[1]||(c[1]=n=>a.storeSettings.toggleGramNumber()),size:"md",padding:"sm sm",title:"Единственное/множественное число"},null,8,["icon"]),g(M,{icon:a.GRAM_SELECTOR.gender.icon[a.storeSettings.settings.gramGender],"text-color":a.GRAM_SELECTOR.gender.color[a.storeSettings.settings.gramGender],onClick:c[2]||(c[2]=n=>a.storeSettings.toggleGramGender()),size:"md",padding:"sm sm",title:"Мужской/женский род"},null,8,["icon","text-color"])])}const Wt=V(tt,[["render",ot],["__file","GramSelector.vue"]]);function rt(){let d=Object.create(null);return{getCache:(c,i)=>d[c]===void 0?d[c]=typeof i=="function"?i():i:d[c],setCache(c,i){d[c]=i},hasCache(c){return Object.hasOwnProperty.call(d,c)},clearCache(c){c!==void 0?delete d[c]:d=Object.create(null)}}}const pe=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]],st=Re({name:"QSlideItem",props:{...Te,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(d,{slots:c,emit:i}){const{proxy:a}=Oe(),{$q:e}=a,r=Ie(d,e),{getCache:n}=rt(),t=L(null);let o=null,s={},l={},u={};const f=z(()=>e.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),m=z(()=>"q-slide-item q-item-type overflow-hidden"+(r.value===!0?" q-slide-item--dark q-dark":""));function _(){t.value.style.transform="translate(0,0)"}function w(v,E,x){d.onSlide!==void 0&&i("slide",{side:v,ratio:E,isReset:x})}function N(v){const E=t.value;if(v.isFirst)s={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},E.classList.add("no-transition"),pe.forEach(p=>{if(c[p[0]]!==void 0){const T=u[p[0]];T.style.transform="scale(1)",s.size[p[0]]=T.getBoundingClientRect()[p[3]]}}),s.axis=v.direction==="up"||v.direction==="down"?"Y":"X";else if(v.isFinal){E.classList.remove("no-transition"),s.scale===1?(E.style.transform=`translate${s.axis}(${s.dir*100}%)`,o!==null&&clearTimeout(o),o=setTimeout(()=>{o=null,i(s.showing,{reset:_}),i("action",{side:s.showing,reset:_})},230)):(E.style.transform="translate(0,0)",w(s.showing,0,!0));return}else v.direction=s.axis==="X"?v.offset.x<0?"left":"right":v.offset.y<0?"up":"down";if(c.left===void 0&&v.direction===f.value.right||c.right===void 0&&v.direction===f.value.left||c.top===void 0&&v.direction==="down"||c.bottom===void 0&&v.direction==="up"){E.style.transform="translate(0,0)";return}let x,S,k;s.axis==="X"?(S=v.direction==="left"?-1:1,x=S===1?f.value.left:f.value.right,k=v.distance.x):(S=v.direction==="up"?-2:2,x=S===2?"top":"bottom",k=v.distance.y),!(s.dir!==null&&Math.abs(S)!==Math.abs(s.dir))&&(s.dir!==S&&(["left","right","top","bottom"].forEach(p=>{l[p]&&(l[p].style.visibility=x===p?"visible":"hidden")}),s.showing=x,s.dir=S),s.scale=Math.max(0,Math.min(1,(k-40)/s.size[x])),E.style.transform=`translate${s.axis}(${k*S/Math.abs(S)}px)`,u[x].style.transform=`scale(${s.scale})`,w(x,s.scale,!1))}return Ge(()=>{l={},u={}}),Qe(()=>{o!==null&&clearTimeout(o)}),Object.assign(a,{reset:_}),()=>{const v=[],E={left:c[f.value.right]!==void 0,right:c[f.value.left]!==void 0,up:c.bottom!==void 0,down:c.top!==void 0},x=Object.keys(E).filter(k=>E[k]===!0);pe.forEach(k=>{const p=k[0];c[p]!==void 0&&v.push(R("div",{key:p,ref:T=>{l[p]=T},class:`q-slide-item__${p} absolute-full row no-wrap items-${k[1]} justify-${k[2]}`+(d[p+"Color"]!==void 0?` bg-${d[p+"Color"]}`:"")},[R("div",{ref:T=>{u[p]=T}},c[p]())]))});const S=R("div",{key:`${x.length===0?"only-":""} content`,ref:t,class:"q-slide-item__content"},Ae(c.default));return x.length===0?v.push(S):v.push(De(S,n("dir#"+x.join(""),()=>{const k={prevent:!0,stop:!0,mouse:!0};return x.forEach(p=>{k[p]=!0}),[[Xe,N,void 0,k]]}))),R("div",{class:m.value},v)}}});function ne(d){const c=He.create(d);let i=!1;const a=()=>{i=!0,c.hide()};return window.addEventListener("popstate",a),c.onDismiss(()=>{window.removeEventListener("popstate",a),i||(ge.currentRoute.value.meta.dialog=!0,ge.back())}),history.pushState({},""),c}var ie,_e;function at(){return _e||(_e=1,ie={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),ie}var le,ke;function Pe(){if(ke)return le;ke=1;const d=at(),c={};for(const e of Object.keys(d))c[d[e]]=e;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};le=i;for(const e of Object.keys(i)){if(!("channels"in i[e]))throw new Error("missing channels property: "+e);if(!("labels"in i[e]))throw new Error("missing channel labels property: "+e);if(i[e].labels.length!==i[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:r,labels:n}=i[e];delete i[e].channels,delete i[e].labels,Object.defineProperty(i[e],"channels",{value:r}),Object.defineProperty(i[e],"labels",{value:n})}i.rgb.hsl=function(e){const r=e[0]/255,n=e[1]/255,t=e[2]/255,o=Math.min(r,n,t),s=Math.max(r,n,t),l=s-o;let u,f;s===o?u=0:r===s?u=(n-t)/l:n===s?u=2+(t-r)/l:t===s&&(u=4+(r-n)/l),u=Math.min(u*60,360),u<0&&(u+=360);const m=(o+s)/2;return s===o?f=0:m<=.5?f=l/(s+o):f=l/(2-s-o),[u,f*100,m*100]},i.rgb.hsv=function(e){let r,n,t,o,s;const l=e[0]/255,u=e[1]/255,f=e[2]/255,m=Math.max(l,u,f),_=m-Math.min(l,u,f),w=function(N){return(m-N)/6/_+1/2};return _===0?(o=0,s=0):(s=_/m,r=w(l),n=w(u),t=w(f),l===m?o=t-n:u===m?o=1/3+r-t:f===m&&(o=2/3+n-r),o<0?o+=1:o>1&&(o-=1)),[o*360,s*100,m*100]},i.rgb.hwb=function(e){const r=e[0],n=e[1];let t=e[2];const o=i.rgb.hsl(e)[0],s=1/255*Math.min(r,Math.min(n,t));return t=1-1/255*Math.max(r,Math.max(n,t)),[o,s*100,t*100]},i.rgb.cmyk=function(e){const r=e[0]/255,n=e[1]/255,t=e[2]/255,o=Math.min(1-r,1-n,1-t),s=(1-r-o)/(1-o)||0,l=(1-n-o)/(1-o)||0,u=(1-t-o)/(1-o)||0;return[s*100,l*100,u*100,o*100]};function a(e,r){return(e[0]-r[0])**2+(e[1]-r[1])**2+(e[2]-r[2])**2}return i.rgb.keyword=function(e){const r=c[e];if(r)return r;let n=1/0,t;for(const o of Object.keys(d)){const s=d[o],l=a(e,s);l<n&&(n=l,t=o)}return t},i.keyword.rgb=function(e){return d[e]},i.rgb.xyz=function(e){let r=e[0]/255,n=e[1]/255,t=e[2]/255;r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92;const o=r*.4124+n*.3576+t*.1805,s=r*.2126+n*.7152+t*.0722,l=r*.0193+n*.1192+t*.9505;return[o*100,s*100,l*100]},i.rgb.lab=function(e){const r=i.rgb.xyz(e);let n=r[0],t=r[1],o=r[2];n/=95.047,t/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;const s=116*t-16,l=500*(n-t),u=200*(t-o);return[s,l,u]},i.hsl.rgb=function(e){const r=e[0]/360,n=e[1]/100,t=e[2]/100;let o,s,l;if(n===0)return l=t*255,[l,l,l];t<.5?o=t*(1+n):o=t+n-t*n;const u=2*t-o,f=[0,0,0];for(let m=0;m<3;m++)s=r+1/3*-(m-1),s<0&&s++,s>1&&s--,6*s<1?l=u+(o-u)*6*s:2*s<1?l=o:3*s<2?l=u+(o-u)*(2/3-s)*6:l=u,f[m]=l*255;return f},i.hsl.hsv=function(e){const r=e[0];let n=e[1]/100,t=e[2]/100,o=n;const s=Math.max(t,.01);t*=2,n*=t<=1?t:2-t,o*=s<=1?s:2-s;const l=(t+n)/2,u=t===0?2*o/(s+o):2*n/(t+n);return[r,u*100,l*100]},i.hsv.rgb=function(e){const r=e[0]/60,n=e[1]/100;let t=e[2]/100;const o=Math.floor(r)%6,s=r-Math.floor(r),l=255*t*(1-n),u=255*t*(1-n*s),f=255*t*(1-n*(1-s));switch(t*=255,o){case 0:return[t,f,l];case 1:return[u,t,l];case 2:return[l,t,f];case 3:return[l,u,t];case 4:return[f,l,t];case 5:return[t,l,u]}},i.hsv.hsl=function(e){const r=e[0],n=e[1]/100,t=e[2]/100,o=Math.max(t,.01);let s,l;l=(2-n)*t;const u=(2-n)*o;return s=n*o,s/=u<=1?u:2-u,s=s||0,l/=2,[r,s*100,l*100]},i.hwb.rgb=function(e){const r=e[0]/360;let n=e[1]/100,t=e[2]/100;const o=n+t;let s;o>1&&(n/=o,t/=o);const l=Math.floor(6*r),u=1-t;s=6*r-l,l&1&&(s=1-s);const f=n+s*(u-n);let m,_,w;switch(l){default:case 6:case 0:m=u,_=f,w=n;break;case 1:m=f,_=u,w=n;break;case 2:m=n,_=u,w=f;break;case 3:m=n,_=f,w=u;break;case 4:m=f,_=n,w=u;break;case 5:m=u,_=n,w=f;break}return[m*255,_*255,w*255]},i.cmyk.rgb=function(e){const r=e[0]/100,n=e[1]/100,t=e[2]/100,o=e[3]/100,s=1-Math.min(1,r*(1-o)+o),l=1-Math.min(1,n*(1-o)+o),u=1-Math.min(1,t*(1-o)+o);return[s*255,l*255,u*255]},i.xyz.rgb=function(e){const r=e[0]/100,n=e[1]/100,t=e[2]/100;let o,s,l;return o=r*3.2406+n*-1.5372+t*-.4986,s=r*-.9689+n*1.8758+t*.0415,l=r*.0557+n*-.204+t*1.057,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),l=Math.min(Math.max(0,l),1),[o*255,s*255,l*255]},i.xyz.lab=function(e){let r=e[0],n=e[1],t=e[2];r/=95.047,n/=100,t/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,t=t>.008856?t**(1/3):7.787*t+16/116;const o=116*n-16,s=500*(r-n),l=200*(n-t);return[o,s,l]},i.lab.xyz=function(e){const r=e[0],n=e[1],t=e[2];let o,s,l;s=(r+16)/116,o=n/500+s,l=s-t/200;const u=s**3,f=o**3,m=l**3;return s=u>.008856?u:(s-16/116)/7.787,o=f>.008856?f:(o-16/116)/7.787,l=m>.008856?m:(l-16/116)/7.787,o*=95.047,s*=100,l*=108.883,[o,s,l]},i.lab.lch=function(e){const r=e[0],n=e[1],t=e[2];let o;o=Math.atan2(t,n)*360/2/Math.PI,o<0&&(o+=360);const l=Math.sqrt(n*n+t*t);return[r,l,o]},i.lch.lab=function(e){const r=e[0],n=e[1],o=e[2]/360*2*Math.PI,s=n*Math.cos(o),l=n*Math.sin(o);return[r,s,l]},i.rgb.ansi16=function(e,r=null){const[n,t,o]=e;let s=r===null?i.rgb.hsv(e)[2]:r;if(s=Math.round(s/50),s===0)return 30;let l=30+(Math.round(o/255)<<2|Math.round(t/255)<<1|Math.round(n/255));return s===2&&(l+=60),l},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){const r=e[0],n=e[1],t=e[2];return r===n&&n===t?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(n/255*5)+Math.round(t/255*5)},i.ansi16.rgb=function(e){let r=e%10;if(r===0||r===7)return e>50&&(r+=3.5),r=r/10.5*255,[r,r,r];const n=(~~(e>50)+1)*.5,t=(r&1)*n*255,o=(r>>1&1)*n*255,s=(r>>2&1)*n*255;return[t,o,s]},i.ansi256.rgb=function(e){if(e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let r;const n=Math.floor(e/36)/5*255,t=Math.floor((r=e%36)/6)/5*255,o=r%6/5*255;return[n,t,o]},i.rgb.hex=function(e){const n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.hex.rgb=function(e){const r=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!r)return[0,0,0];let n=r[0];r[0].length===3&&(n=n.split("").map(u=>u+u).join(""));const t=parseInt(n,16),o=t>>16&255,s=t>>8&255,l=t&255;return[o,s,l]},i.rgb.hcg=function(e){const r=e[0]/255,n=e[1]/255,t=e[2]/255,o=Math.max(Math.max(r,n),t),s=Math.min(Math.min(r,n),t),l=o-s;let u,f;return l<1?u=s/(1-l):u=0,l<=0?f=0:o===r?f=(n-t)/l%6:o===n?f=2+(t-r)/l:f=4+(r-n)/l,f/=6,f%=1,[f*360,l*100,u*100]},i.hsl.hcg=function(e){const r=e[1]/100,n=e[2]/100,t=n<.5?2*r*n:2*r*(1-n);let o=0;return t<1&&(o=(n-.5*t)/(1-t)),[e[0],t*100,o*100]},i.hsv.hcg=function(e){const r=e[1]/100,n=e[2]/100,t=r*n;let o=0;return t<1&&(o=(n-t)/(1-t)),[e[0],t*100,o*100]},i.hcg.rgb=function(e){const r=e[0]/360,n=e[1]/100,t=e[2]/100;if(n===0)return[t*255,t*255,t*255];const o=[0,0,0],s=r%1*6,l=s%1,u=1-l;let f=0;switch(Math.floor(s)){case 0:o[0]=1,o[1]=l,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=l;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=l,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return f=(1-n)*t,[(n*o[0]+f)*255,(n*o[1]+f)*255,(n*o[2]+f)*255]},i.hcg.hsv=function(e){const r=e[1]/100,n=e[2]/100,t=r+n*(1-r);let o=0;return t>0&&(o=r/t),[e[0],o*100,t*100]},i.hcg.hsl=function(e){const r=e[1]/100,t=e[2]/100*(1-r)+.5*r;let o=0;return t>0&&t<.5?o=r/(2*t):t>=.5&&t<1&&(o=r/(2*(1-t))),[e[0],o*100,t*100]},i.hcg.hwb=function(e){const r=e[1]/100,n=e[2]/100,t=r+n*(1-r);return[e[0],(t-r)*100,(1-t)*100]},i.hwb.hcg=function(e){const r=e[1]/100,t=1-e[2]/100,o=t-r;let s=0;return o<1&&(s=(t-o)/(1-o)),[e[0],o*100,s*100]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=function(e){return[0,0,e[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){const r=Math.round(e[0]/100*255)&255,t=((r<<16)+(r<<8)+r).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]},le}var ce,we;function it(){if(we)return ce;we=1;const d=Pe();function c(){const r={},n=Object.keys(d);for(let t=n.length,o=0;o<t;o++)r[n[o]]={distance:-1,parent:null};return r}function i(r){const n=c(),t=[r];for(n[r].distance=0;t.length;){const o=t.pop(),s=Object.keys(d[o]);for(let l=s.length,u=0;u<l;u++){const f=s[u],m=n[f];m.distance===-1&&(m.distance=n[o].distance+1,m.parent=o,t.unshift(f))}}return n}function a(r,n){return function(t){return n(r(t))}}function e(r,n){const t=[n[r].parent,r];let o=d[n[r].parent][r],s=n[r].parent;for(;n[s].parent;)t.unshift(n[s].parent),o=a(d[n[s].parent][s],o),s=n[s].parent;return o.conversion=t,o}return ce=function(r){const n=i(r),t={},o=Object.keys(n);for(let s=o.length,l=0;l<s;l++){const u=o[l];n[u].parent!==null&&(t[u]=e(u,n))}return t},ce}var ue,xe;function lt(){if(xe)return ue;xe=1;const d=Pe(),c=it(),i={},a=Object.keys(d);function e(n){const t=function(...o){const s=o[0];return s==null?s:(s.length>1&&(o=s),n(o))};return"conversion"in n&&(t.conversion=n.conversion),t}function r(n){const t=function(...o){const s=o[0];if(s==null)return s;s.length>1&&(o=s);const l=n(o);if(typeof l=="object")for(let u=l.length,f=0;f<u;f++)l[f]=Math.round(l[f]);return l};return"conversion"in n&&(t.conversion=n.conversion),t}return a.forEach(n=>{i[n]={},Object.defineProperty(i[n],"channels",{value:d[n].channels}),Object.defineProperty(i[n],"labels",{value:d[n].labels});const t=c(n);Object.keys(t).forEach(s=>{const l=t[s];i[n][s]=r(l),i[n][s].raw=e(l)})}),ue=i,ue}var ct=lt();const ut=Be(ct);function dt(d){if(d){const c=ut.keyword.hsl(d);return c[2]=We.isActive?10:95,`hsl(${c[0]}, ${c[1]}%, ${c[2]}%)`}else return"none"}const ft=()=>!0;function gt(d){const c={};return d.forEach(i=>{c[i]=ft}),c}function H(){const{emit:d,proxy:c}=Oe(),i=L(null);function a(){i.value.show()}function e(){i.value.hide()}function r(t){d("ok",t),e()}function n(){d("hide")}return Object.assign(c,{show:a,hide:e}),{dialogRef:i,onDialogHide:n,onDialogOK:r,onDialogCancel:e}}const je=["ok","hide"];H.emits=je;H.emitsObject=gt(je);const Y=F(),mt={searchGoogle(d){if(!d)return;const c=`https://translate.google.com/?sl=${Y.settings.fromLanguage}&tl=${Y.settings.toLanguage}&text=${encodeURIComponent(d)}&op=translate`;window.open(c,"_blank")},searchCambridge(d){if(!d)return;const c=`https://dictionary.cambridge.org/us/dictionary/english/${encodeURIComponent(d).toLowerCase()}`;window.open(c,"_blank")},searchPealim(d){if(!d)return;const c=`https://www.pealim.com/ru/search/?q=${encodeURIComponent(d)}`;window.open(c,"_blank")},searchReverso(d){if(!d)return;const c=Y.settings.fromLanguage,i=Y.settings.toLanguage,a=`https://www.reverso.net/text-translation#sl=${me.LANG_TO_CODE3[c]}&tl=${me.LANG_TO_CODE3[i]}&text=${encodeURIComponent(d)}`;window.open(a,"_blank")}},ht={__name:"EntryPopup",props:{entry:{type:Object,required:!0}},emits:[...H.emits],setup(d,{expose:c}){c();const i=te(),a=F(),e=d,{dialogRef:r,onDialogHide:n}=H(),t=L(e.entry),o=L(null);e.entry.opposite&&e.entry.getOpposite().then(k=>o.value=k);const s=L(!1),l=L(!1),u=L(e.entry.state.comment),f=q(a.settings,"fromLanguage"),m=q(a.settings,"toLanguage"),_=z(()=>v(f.value)),w=z(()=>v(m.value,!0)),N=z(()=>he(t.value).getComment(f.value,m.value));function v(k,p=!1){const T=(p?a.dir.text+" justify-end ":"")+"cell span-";function oe(B,re){const W=fe=>a.needTransliterate?ye(fe.T):fe.T;let I;return p?(I=[],B.W&&I.push(R("span",{class:"span-w"},B.W),R("br")),B.T&&I.push(R("span",{class:"span-t"},W(B)))):I=B.W,R("div",{class:T+re},R("div",I))}function de(B,re){for(const W of B)if(P[W]?.W||P[W]?.T)J.push(oe(P[W],2));else for(const I of re)P[W]?.[I]&&J.push(oe(P[W][I],1))}const J=[],P=t.value.forms?.[k];return P&&(P.W||P.T?J.push(oe(P,4)):(de("SP","MF"),de("MF","SP"))),R("div",{class:"container"},J)}function E(){[t.value,o.value]=[o.value,t.value],u.value=t.value.state.comment,l.value=!1}const S={$q:i,storeSettings:a,props:e,dialogRef:r,onDialogHide:n,entryRef:t,oppositeRef:o,inputFocused:s,inputChanged:l,stateComment:u,fromLang:f,toLang:m,phraseFrom:_,phraseTo:w,comment:N,getPhraseContent:v,toggleOpposite:E,onOk:()=>{e.entry===t.value&&(u.value===null||u.value===""?delete t.value.state.comment:t.value.state.comment=u.value,t.value.saveState()),r.value.hide()},h:R,computed:z,ref:L,toRaw:he,toRef:q,get useDialogPluginComponent(){return H},get useQuasar(){return te},get GRAM_SELECTOR(){return Ee},get useStoreSettings(){return F},get transliterate(){return ye},get extSearch(){return mt},EntryItem:ze};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}},yt={style:{height:"160px",display:"flex","justify-content":"center"}},vt=["src"],bt={key:0,class:"row"},pt={class:"col"},_t={class:"table-container"},kt={key:5,class:"opposite"},wt={class:"text-center text-bold text-grey"};function xt(d,c,i,a,e,r){return y(),b(Fe,{ref:"dialogRef",onHide:a.onDialogHide,dir:a.storeSettings.dir.dir,position:a.inputFocused?d.$constants.POPUP_POSITION:"standard"},{default:h(()=>[g(Le,{class:"q-dialog-plugin"},{default:h(()=>[a.entryRef.style?.img?(y(),b(j,{key:0},{default:h(()=>[G("div",yt,[G("img",{src:a.entryRef.style.img,class:"rounded-borders",style:X(a.$q.dark.isActive&&i.entry.style.imgInvert?"filter: invert(1)":null)},null,12,vt)])]),_:1})):a.entryRef.style?.icon?(y(),b(j,{key:1,class:"text-center"},{default:h(()=>[g(O,{name:a.entryRef.style.icon,color:a.entryRef.style.color,size:"lg"},null,8,["name","color"])]),_:1})):a.entryRef.style?.emoji?(y(),b(j,{key:2,class:"text-center text-h3"},{default:h(()=>[G("span",{class:Q(a.entryRef.style.color?"text-"+a.entryRef.style.color:null)},U(a.entryRef.style.emoji),3)]),_:1})):a.entryRef.style?.color?(y(),b(j,{key:3,class:"text-center"},{default:h(()=>[g(K,{color:a.entryRef.style.color},null,8,["color"])]),_:1})):C("",!0),g(j,{class:"q-px-sm"},{default:h(()=>[a.entryRef.gender?(y(),A("div",bt,[G("div",pt,[g(O,{name:a.GRAM_SELECTOR.gender.icon[a.entryRef.gender[a.fromLang]],color:a.GRAM_SELECTOR.gender.color[a.entryRef.gender[a.fromLang]],size:"sm"},null,8,["name","color"])]),G("div",{class:Q(["col",a.storeSettings.dir.text])},[g(O,{name:a.GRAM_SELECTOR.gender.icon[a.entryRef.gender[a.toLang]],color:a.GRAM_SELECTOR.gender.color[a.entryRef.gender[a.toLang]],size:"sm"},null,8,["name","color"])],2)])):C("",!0),G("div",_t,[(y(),b(ve(a.phraseFrom))),(y(),b(ve(a.phraseTo)))])]),_:1}),g(j,{class:"q-px-sm"},{default:h(()=>[g(Me,{modelValue:a.stateComment,"onUpdate:modelValue":[c[0]||(c[0]=n=>a.stateComment=n),c[1]||(c[1]=n=>a.inputChanged=!0)],modelModifiers:{trim:!0},type:"textarea",label:"Ваш комментарий",clearable:a.inputFocused,maxlength:d.$constants.USER_COMMENT_MAX_LENGTH,disable:i.entry!==a.entryRef,autogrow:"",outlined:"",dense:"",style:{"font-size":"100%"},onFocus:c[2]||(c[2]=n=>a.inputFocused=!0)},null,8,["modelValue","clearable","maxlength","disable"])]),_:1}),a.comment?(y(),b(j,{key:4,class:"q-px-sm text-italic",style:{opacity:"0.8"}},{default:h(()=>[D(U(a.comment),1)]),_:1})):C("",!0),a.oppositeRef?(y(),A("div",kt,[G("div",wt,[g(O,{name:"swap_vert",size:"16px"}),c[7]||(c[7]=D(" антоним ")),g(O,{name:"swap_vert",size:"16px"})]),g(a.EntryItem,{entry:a.oppositeRef,onClick:a.toggleOpposite,prevent:""},null,8,["entry"])])):C("",!0),g($),g(qe,{class:"items-stretch no-wrap"},{default:h(()=>[g(M,{class:"col-grow",color:"primary",label:"OK",onClick:a.onOk}),g(M,{icon:"cancel",label:"Отмена",onClick:c[3]||(c[3]=n=>d.$router.back())}),a.toLang==="en"?(y(),b(M,{key:0,onClick:c[4]||(c[4]=n=>a.extSearch.searchCambridge(a.entryRef.getWord(a.toLang).W)),padding:"sm sm",title:"Найти в словаре Cambridge (произношение)"},{default:h(()=>[g(K,{square:"",size:"sm"},{default:h(()=>[g(Z,{src:"icons/cambridge.png"})]),_:1})]),_:1})):C("",!0),a.toLang==="he"?(y(),b(M,{key:1,onClick:c[5]||(c[5]=n=>a.extSearch.searchPealim(a.entryRef.getWord(a.toLang).W)),padding:"sm sm",title:"Найти в словаре Pealim (однокоренные)"},{default:h(()=>[g(K,{square:"",size:"sm"},{default:h(()=>[g(Z,{src:"icons/pealim.png"})]),_:1})]),_:1})):C("",!0),g(M,{onClick:c[6]||(c[6]=n=>a.extSearch.searchReverso(a.entryRef.getWord(a.fromLang).W)),padding:"sm sm",title:"Поиск по примерам использования"},{default:h(()=>[g(K,{square:"",size:"sm"},{default:h(()=>[g(Z,{src:"icons/reverso.png"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide","dir","position"])}const Se=V(ht,[["render",xt],["__scopeId","data-v-fa376ae5"],["__file","EntryPopup.vue"]]),St={__name:"EntryItem",props:{entry:{type:Object,required:!0},withHeader:{type:Boolean,default:!1},prevent:{type:Boolean,default:!1}},setup(d,{expose:c}){c();const i=te(),a=F(),e=q(a.settings,"fromLanguage"),r=q(a.settings,"toLanguage"),n=q(a.settings,"gramGender"),t=q(a.settings,"gramNumber"),o=d,s=z(()=>o.entry.getWord(e.value,t.value,n.value)),l=z(()=>o.entry.getWord(r.value,t.value,n.value,a.needTransliterate)),f={$q:i,storeSettings:a,fromLang:e,toLang:r,gender:n,number:t,props:o,wordFrom:s,wordTo:l,showEntry:()=>ne({component:Se,componentProps:{entry:o.entry}}),toRef:q,computed:z,get useQuasar(){return te},get useStoreSettings(){return F},get getHslPastelCssColor(){return dt},get dialog(){return ne},EntryPopup:Se};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}};function Ct(d,c,i,a,e,r){return y(),b(Ze,{clickable:"",onClick:c[0]||(c[0]=n=>i.prevent||a.showEntry()),class:Q(["q-pr-sm",{"text-bold":i.withHeader||i.entry.style?.bold,"text-italic":i.entry.style?.italic,"q-pl-sm":a.storeSettings.dir.dir==="ltr","q-pl-none":a.storeSettings.dir.dir==="rtl"}]),style:X({backgroundColor:a.getHslPastelCssColor(i.entry.style?.bgColor)}),dense:!i.withHeader},{default:h(()=>[i.entry.style?.img||i.entry.style?.icon||i.entry.style?.emoji||i.entry.style?.color?(y(),b(se,{key:0,avatar:"",class:Q({"q-pr-sm":a.storeSettings.dir.dir==="ltr","q-pr-none q-pl-xs":a.storeSettings.dir.dir==="rtl"}),style:X({minWidth:a.storeSettings.elementSizes.avatarWidth})},{default:h(()=>[i.entry.style.img?(y(),b(Z,{key:0,src:i.entry.style.img,"no-spinner":"","no-native-menu":"",class:"rounded-borders",style:X(a.$q.dark.isActive&&i.entry.style.imgInvert?"filter: invert(1)":null)},null,8,["src","style"])):i.entry.style.icon?(y(),b(O,{key:1,name:i.entry.style.icon,color:i.entry.style.color,size:a.storeSettings.elementSizes.iconSize},null,8,["name","color","size"])):i.entry.style.emoji?(y(),A("span",{key:2,class:Q([i.entry.style.color?"text-"+i.entry.style.color:null,"text-"+a.storeSettings.elementSizes.emojiSize])},U(i.entry.style.emoji),3)):i.entry.style.color?(y(),b(K,{key:3,color:i.entry.style.color,size:a.storeSettings.elementSizes.iconSize},null,8,["color","size"])):C("",!0)]),_:1},8,["class","style"])):C("",!0),g(se,null,{default:h(()=>[g(ae,{class:Q({"text-uppercase":i.withHeader})},{default:h(()=>[D(U(a.wordFrom.W),1)]),_:1},8,["class"])]),_:1}),g(se,{class:Q(a.storeSettings.dir.text)},{default:h(()=>[a.storeSettings.settings.showOnlyT?C("",!0):(y(),b(ae,{key:0,style:{opacity:"0.7"}},{default:h(()=>[D(U(a.wordTo.W),1)]),_:1})),g(ae,{style:{opacity:"0.9","font-weight":"bold","margin-top":"2px","margin-bottom":"2px"}},{default:h(()=>[D(U(a.wordTo.T),1)]),_:1})]),_:1},8,["class"])]),_:1},8,["class","style","dense"])}const ze=V(St,[["render",Ct],["__file","EntryItem.vue"]]),Et={props:{expanded:{type:Boolean,required:!0}}};function Rt(d,c,i,a,e,r){return y(),b(M,{unelevated:"",size:"md",class:"expand-center q-px-xl q-py-md",onClick:c[0]||(c[0]=n=>d.$emit("toggle"))},{default:h(()=>[g(O,{class:"expand-icon",name:"keyboard_arrow_down",style:X({transform:i.expanded?"rotate(180deg)":"rotate(0deg)"})},null,8,["style"])]),_:1})}const Ot=V(Et,[["render",Rt],["__scopeId","data-v-29db1681"],["__file","BtnExpand.vue"]]),Lt=Re({name:"QSpace",setup(){const d=R("div",{class:"q-space"});return()=>d}}),Mt={__name:"FavAddPopup",props:{entry:{type:Object,required:!0}},emits:[...H.emits],setup(d,{expose:c}){c();const i=F(),a=ee(),e=d,{dialogRef:r,onDialogHide:n}=H(),t=L(""),o=L(a.getEntryFavs(e.entry.id));async function s(){t.value.length&&o.value.push(await a.add(t.value)),a.setEntryFavs(e.entry,o.value),r.value.hide()}const l={storeSettings:i,storeFavorites:a,props:e,dialogRef:r,onDialogHide:n,name:t,selectedFavs:o,onOk:s,ref:L,get useDialogPluginComponent(){return H},get useStoreSettings(){return F},get useStoreFavorites(){return ee}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}};function qt(d,c,i,a,e,r){return y(),b(Fe,{ref:"dialogRef",onHide:a.onDialogHide,dir:a.storeSettings.dir.dir,position:d.$constants.POPUP_POSITION},{default:h(()=>[g(Le,{class:"q-dialog-plugin"},{default:h(()=>[g($e,{class:"q-px-sm"},{default:h(()=>[g(et,{class:"text-primary"},{default:h(()=>[D(U(d.$t("Изменить группы избранного")),1)]),_:1})]),_:1}),g($),g(j,{class:"q-py-xs"},{default:h(()=>[g(Ue,{type:"checkbox",modelValue:a.selectedFavs,"onUpdate:modelValue":c[0]||(c[0]=n=>a.selectedFavs=n),options:a.storeFavorites.options,color:"primary",style:{"max-height":"240px","overflow-y":"auto"}},null,8,["modelValue","options"])]),_:1}),g(j,{class:"q-px-lg"},{default:h(()=>[g(Me,{modelValue:a.name,"onUpdate:modelValue":c[1]||(c[1]=n=>a.name=n),modelModifiers:{trim:!0},maxlength:d.$constants.FAV_NAME_MAX_LENGTH,label:"Или создать новую и добавить в неё",outlined:"",clearable:"",dense:"",style:{"font-size":"100%"}},null,8,["modelValue","maxlength"])]),_:1}),g($),g(qe,{class:"items-stretch no-wrap"},{default:h(()=>[g(M,{class:"col-grow",style:{"max-width":"120px"},color:"primary",label:"OK",onClick:a.onOk}),g(M,{icon:"cancel",label:"Отмена",onClick:c[2]||(c[2]=n=>d.$router.back())}),g(Lt)]),_:1})]),_:1})]),_:1},8,["onHide","dir","position"])}const Ce=V(Mt,[["render",qt],["__file","FavAddPopup.vue"]]),Ft={__name:"EntriesList",props:{entries:{type:Array,required:!0},favorite:{type:Object,required:!1},withExtra:{type:Boolean,default:!1}},setup(d,{expose:c}){c();const i=F(),a=be(),e=ee(),r=q(i.settings,"fromLanguage"),n=q(i.settings,"toLanguage"),t=d,s={storeSettings:i,storeEntries:a,storeFavorites:e,fromLang:r,toLang:n,props:t,onEntrySlideLeft:({reset:l},u)=>{t.favorite?e.removeEntry(t.favorite,u.id):ne({component:Ce,componentProps:{entry:u}}),l()},toRef:q,get useStoreSettings(){return F},get useStoreEntries(){return be},get useStoreFavorites(){return ee},get dialog(){return ne},EntryItem:ze,BtnExpand:Ot,FavAddPopup:Ce};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}},Pt={key:0,class:"row items-center"},jt={key:1,class:"row items-center"};function zt(d,c,i,a,e,r){const n=Ve("EntriesList",!0);return y(),b(Ye,null,{default:h(()=>[(y(!0),A(Ne,null,Ke(a.props.entries,(t,o)=>(y(),A("div",{key:t.id},[G("div",{class:Q([o%2?"darkness":"lightness"])},[g(st,{"left-color":"teal",onLeft:s=>a.onEntrySlideLeft(s,t)},{left:h(()=>[i.favorite?(y(),A("div",jt,[g(O,{left:"",name:"star_border"}),c[1]||(c[1]=D(" Убрать из избранного "))])):(y(),A("div",Pt,[g(O,{left:"",name:"star"}),c[0]||(c[0]=D(" В избранное "))]))]),default:h(()=>[!i.favorite&&a.storeFavorites.entryFavs[t.id]?.size?(y(),b(O,{key:0,class:"fixed-left",style:{"margin-top":"10px"},name:"star",color:"orange",size:"10px"})):C("",!0),t.state.comment?(y(),b(O,{key:1,class:"fixed-left",name:"info",color:"green",size:"10px"})):C("",!0),t.getComment(a.fromLang,a.toLang)?(y(),b(O,{key:2,class:"fixed-right",name:"info",color:"blue",size:"10px"})):C("",!0),g(a.EntryItem,{entry:t,withHeader:i.withExtra&&(!!t.nested||t.style?.header)},null,8,["entry","withHeader"])]),_:2},1032,["onLeft"]),g($),i.withExtra&&t.nested?(y(),b(a.BtnExpand,{key:0,expanded:!!t.state.expanded,onToggle:s=>a.storeEntries.toggleExpaned(t)},null,8,["expanded","onToggle"])):C("",!0)],2),i.withExtra&&t.nested?(y(),b(Je,{key:0,modelValue:t.state.expanded,"onUpdate:modelValue":s=>t.state.expanded=s,"header-class":"hidden"},{default:h(()=>[g(n,{entries:t.nested,withExtra:""},null,8,["entries"])]),_:2},1032,["modelValue","onUpdate:modelValue"])):C("",!0)]))),128))]),_:1})}const Ut=V(Ft,[["render",zt],["__scopeId","data-v-81e6b881"],["__file","EntriesList.vue"]]);export{Ut as E,Wt as G,Lt as Q,H as a,ne as d,mt as e,rt as u};
