import{Q as h,a as B,b as E,c as S}from"./QPage-AwCiuWo5.js";import{Q}from"./QItem-DiAYrA7u.js";import{_ as N,B as y,K as w,u as m,H as c,G as e,F as o,I as b,E as n,J as k,L as f,M as O,Q as r,C,N as g,O as I,P as L,R as T,S as M,T as U,U as q,V as v,W as G}from"./index-DQRA6LH0.js";import{Q as D}from"./QExpansionItem-CVfupejf.js";import{Q as A}from"./QList-D1_JEjL-.js";import{G as H,E as W}from"./EntriesList-CHXZb5ZY.js";import{D as j,a as z}from"./DrawerToggleBtn-BOiVx9Ci.js";import"./QResizeObserver-DoWyJfQr.js";import"./QImg-BXAu_URH.js";import"./use-quasar-DeWG_FhQ.js";import"./selection-Dp5oik1f.js";import"./format-CJebrXOQ.js";const K={__name:"FavoritesPage",setup(i,{expose:l}){l();const _=y(),t=w(),u=m(!1),s=m(null),a=m(""),d=m(!1),x=()=>u.value=!0,p=()=>u.value=!1;function P(V){s.value=V,a.value=V.name,x()}const F={storeSettings:_,storeFavorites:t,dialogVisible:u,currentFav:s,name:a,commentsExpanded:d,openEditor:x,closeEditor:p,onEditFav:P,onSaveFav:()=>{s.value.name!==a.value&&(s.value.name=a.value,s.value.save()),p()},onDeleteFav:async()=>{await t.remove(s.value),p()},ref:m,get useStoreSettings(){return y},get useStoreFavorites(){return w},GramSelector:H,DrawerMenu:j,DrawerToggleBtn:z,EntriesList:W};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}},J={class:"text-center"},R={key:1,class:"absolute-center text-grey text-center"};function X(i,l,_,t,u,s){return n(),c(b,null,[e(t.DrawerMenu),e(h,{elevated:""},{default:o(()=>[e(E,null,{default:o(()=>[e(t.DrawerToggleBtn),e(S,null,{default:o(()=>[k("div",J,f(i.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1}),e(t.GramSelector)]),_:1})]),_:1}),e(B,{class:"q-py-xs"},{default:o(()=>[e(A,null,{default:o(()=>[(n(!0),c(b,null,O(t.storeFavorites.allOrdered,a=>(n(),c("div",{key:a.id},[e(D,{modelValue:a.expanded,"onUpdate:modelValue":[d=>a.expanded=d,d=>a.save()],"switch-toggle-side":""},{header:o(()=>[e(Q,{class:"text-h6 text-primary"},{default:o(()=>[T(f(a.name),1)]),_:2},1024),e(Q,{side:""},{default:o(()=>[e(v,{icon:"edit",unelevated:"",onClick:G(d=>t.onEditFav(a),["stop"]),class:"q-pr-sm",size:"sm"},null,8,["onClick"])]),_:2},1024)]),default:o(()=>[e(r),e(t.EntriesList,{entries:a.entryIds,favorite:a,withTopic:""},null,8,["entries","favorite"])]),_:2},1032,["modelValue","onUpdate:modelValue"]),a.expanded?g("",!0):(n(),C(r,{key:0}))]))),128))]),_:1}),e(D,{label:"–ú–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏",modelValue:t.commentsExpanded,"onUpdate:modelValue":[l[0]||(l[0]=a=>t.commentsExpanded=a),l[1]||(l[1]=a=>t.storeFavorites.loadEntriesWithComments(t.commentsExpanded))],"header-class":"text-h6","switch-toggle-side":""},{default:o(()=>[e(r),e(t.EntriesList,{entries:t.storeFavorites.entriesWithComments,withTopic:""},null,8,["entries"])]),_:1},8,["modelValue"]),t.commentsExpanded?g("",!0):(n(),C(r,{key:0})),!t.commentsExpanded&&!Object.keys(t.storeFavorites.entryFavsMap).length?(n(),c("div",R,l[5]||(l[5]=[k("span",null,"üëâ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∂–µ—Å—Ç swipe –≤–ø—Ä–∞–≤–æ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ñ—Ä–∞–∑—É –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1)]))):g("",!0),e(I,{modelValue:t.dialogVisible,"onUpdate:modelValue":l[4]||(l[4]=a=>t.dialogVisible=a),dir:t.storeSettings.dir.dir,position:i.$constants.POPUP_POSITION},{default:o(()=>[e(L,{class:"q-dialog-plugin"},{default:o(()=>[e(E,{class:"q-px-sm"},{default:o(()=>[e(S,{class:"text-primary"},{default:o(()=>[T(f(i.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1})]),_:1}),e(r),e(M,{class:"q-px-lg"},{default:o(()=>[e(U,{modelValue:t.name,"onUpdate:modelValue":l[2]||(l[2]=a=>t.name=a),maxlength:i.$constants.FAV_NAME_MAX_LENGTH,placeholder:"–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ",outlined:"",dense:"",autofocus:"",style:{"font-size":"100%"},onBlur:l[3]||(l[3]=a=>t.name=t.name.trim())},null,8,["modelValue","maxlength"])]),_:1}),e(r),e(q,{class:"items-stretch no-wrap"},{default:o(()=>[e(v,{label:"OK",class:"col-grow",style:{"max-width":"120px"},color:"primary",onClick:t.onSaveFav}),e(v,{label:"–£–¥–∞–ª–∏—Ç—å",icon:"delete","text-color":"red-8",onClick:t.onDeleteFav}),e(v,{label:"–û—Ç–º–µ–Ω–∞",icon:"cancel",onClick:t.closeEditor})]),_:1})]),_:1})]),_:1},8,["modelValue","dir","position"])]),_:1})],64)}const ue=N(K,[["render",X],["__file","FavoritesPage.vue"]]);export{ue as default};
