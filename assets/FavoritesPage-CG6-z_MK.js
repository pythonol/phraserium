import{Q as C,a as D,b as S,c as x}from"./QPage-CNwnNK3z.js";import{Q}from"./QItem-CmH7D5R_.js";import{_ as P,B as V,K as y,u as d,H as u,G as e,F as o,I as b,E as c,J as E,L as _,M as T,N as h,Q as N,O,P as w,R as m,S as B,T as I,U as M,V as p,W as L}from"./index-DHLYej0w.js";import{Q as U}from"./QExpansionItem-BoXD3_VT.js";import{Q as q}from"./QList-Jd8dkfjy.js";import{G,E as A}from"./EntriesList-LiOPK263.js";import{D as H,a as j}from"./DrawerToggleBtn-BjQFLcSa.js";import"./QResizeObserver-DnSPkMtT.js";import"./QImg-BJ3-IxZp.js";import"./use-quasar-ciFNPFjE.js";import"./selection-ku5cNzD1.js";import"./format-CJebrXOQ.js";const K={__name:"FavoritesPage",setup(n,{expose:l}){l();const f=V(),t=y(),i=d(!1),s=d(null),a=d(""),r=()=>i.value=!0,v=()=>i.value=!1;function k(F){s.value=F,a.value=F.name,r()}const g={storeSettings:f,storeFavorites:t,dialogVisible:i,currentFav:s,name:a,openEditor:r,closeEditor:v,onEditFav:k,onSaveFav:()=>{s.value.name!==a.value&&(s.value.name=a.value,s.value.save()),v()},onDeleteFav:async()=>{await t.remove(s.value),v()},ref:d,get useStoreSettings(){return V},get useStoreFavorites(){return y},GramSelector:G,DrawerMenu:H,DrawerToggleBtn:j,EntriesList:A};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},z={class:"text-center"},J={key:0,class:"absolute-center text-grey text-center"};function R(n,l,f,t,i,s){return c(),u(b,null,[e(t.DrawerMenu),e(C,{elevated:""},{default:o(()=>[e(S,null,{default:o(()=>[e(t.DrawerToggleBtn),e(x,null,{default:o(()=>[E("div",z,_(n.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1}),e(t.GramSelector)]),_:1})]),_:1}),e(D,{class:"q-py-xs"},{default:o(()=>[e(q,null,{default:o(()=>[(c(!0),u(b,null,T(t.storeFavorites.allOrdered,a=>(c(),u("div",{key:a.id},[e(U,{modelValue:a.expanded,"onUpdate:modelValue":[r=>a.expanded=r,r=>a.save()],"switch-toggle-side":""},{header:o(()=>[e(Q,{class:"text-h6 text-primary"},{default:o(()=>[w(_(a.name),1)]),_:2},1024),e(Q,{side:""},{default:o(()=>[e(p,{icon:"edit",unelevated:"",onClick:L(r=>t.onEditFav(a),["stop"]),class:"q-pr-xs"},null,8,["onClick"])]),_:2},1024)]),default:o(()=>[e(m),e(t.EntriesList,{entries:a.entryIds,favorite:a},null,8,["entries","favorite"])]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(m)]))),128))]),_:1}),Object.keys(t.storeFavorites.entryFavs).length?h("",!0):(c(),u("div",J,l[2]||(l[2]=[E("span",null,"üëâ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∂–µ—Å—Ç swipe –≤–ø—Ä–∞–≤–æ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ñ—Ä–∞–∑—É –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1)]))),e(N,{modelValue:t.dialogVisible,"onUpdate:modelValue":l[1]||(l[1]=a=>t.dialogVisible=a),dir:t.storeSettings.dir.dir,position:n.$constants.POPUP_POSITION},{default:o(()=>[e(O,{class:"q-dialog-plugin"},{default:o(()=>[e(S,{class:"q-px-sm"},{default:o(()=>[e(x,{class:"text-primary"},{default:o(()=>[w(_(n.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1})]),_:1}),e(m),e(B,{class:"q-px-lg"},{default:o(()=>[e(I,{modelValue:t.name,"onUpdate:modelValue":l[0]||(l[0]=a=>t.name=a),modelModifiers:{trim:!0},maxlength:n.$constants.FAV_NAME_MAX_LENGTH,placeholder:"–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ",outlined:"",dense:"",autofocus:"",style:{"font-size":"100%"}},null,8,["modelValue","maxlength"])]),_:1}),e(m),e(M,{class:"items-stretch no-wrap"},{default:o(()=>[e(p,{label:"OK",class:"col-grow",style:{"max-width":"120px"},color:"primary",onClick:t.onSaveFav}),e(p,{label:"–£–¥–∞–ª–∏—Ç—å",icon:"delete","text-color":"red-8",onClick:t.onDeleteFav}),e(p,{label:"–û—Ç–º–µ–Ω–∞",icon:"cancel",onClick:t.closeEditor})]),_:1})]),_:1})]),_:1},8,["modelValue","dir","position"])]),_:1})],64)}const de=P(K,[["render",R],["__file","FavoritesPage.vue"]]);export{de as default};
