import{Q as T,a as B,b as E,c as S}from"./QPage-k_HO56vU.js";import{Q}from"./QItem-DVkrpjjO.js";import{_ as N,B as y,K as b,u as m,H as c,G as e,F as o,I as k,E as r,J as w,L as f,M as O,Q as n,C,N as g,O as I,P as L,R as D,S as M,T as U,U as q,V as v,W as G}from"./index-D1nlLIt7.js";import{Q as P}from"./QExpansionItem-Bwg2ZThf.js";import{Q as A}from"./QList-CCAwV262.js";import{G as H,E as W}from"./EntriesList-Ci-yKFd2.js";import{D as j,a as z}from"./DrawerToggleBtn-4YO49KwD.js";import"./QResizeObserver-BDSMeDHN.js";import"./QImg-Bchzr_HB.js";import"./use-quasar-DW4_Zn-T.js";import"./selection-CSuqfDVu.js";import"./format-CJebrXOQ.js";const K={__name:"FavoritesPage",setup(i,{expose:s}){s();const _=y(),t=b(),u=m(!1),l=m(null),a=m(""),d=m(!1),x=()=>u.value=!0,p=()=>u.value=!1;function h(V){l.value=V,a.value=V.name,x()}const F={storeSettings:_,storeFavorites:t,dialogVisible:u,currentFav:l,name:a,commentsExpanded:d,openEditor:x,closeEditor:p,onEditFav:h,onSaveFav:()=>{l.value.name!==a.value&&(l.value.name=a.value,l.value.save()),p()},onDeleteFav:async()=>{await t.remove(l.value),p()},ref:m,get useStoreSettings(){return y},get useStoreFavorites(){return b},GramSelector:H,DrawerMenu:j,DrawerToggleBtn:z,EntriesList:W};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}},J={class:"text-center"},R={key:1,class:"absolute-center text-grey text-center"};function X(i,s,_,t,u,l){return r(),c(k,null,[e(t.DrawerMenu),e(T,{elevated:""},{default:o(()=>[e(E,null,{default:o(()=>[e(t.DrawerToggleBtn),e(S,null,{default:o(()=>[w("div",J,f(i.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1}),e(t.GramSelector)]),_:1})]),_:1}),e(B,{class:"q-py-xs"},{default:o(()=>[e(A,null,{default:o(()=>[(r(!0),c(k,null,O(t.storeFavorites.allOrdered,a=>(r(),c("div",{key:a.id},[e(P,{modelValue:a.expanded,"onUpdate:modelValue":[d=>a.expanded=d,d=>a.save()],"switch-toggle-side":""},{header:o(()=>[e(Q,{class:"text-h6 text-primary"},{default:o(()=>[D(f(a.name),1)]),_:2},1024),e(Q,{side:""},{default:o(()=>[e(v,{icon:"edit",unelevated:"",onClick:G(d=>t.onEditFav(a),["stop"]),class:"q-pr-sm",size:"sm"},null,8,["onClick"])]),_:2},1024)]),default:o(()=>[e(n),e(t.EntriesList,{entries:a.entryIds,favorite:a},null,8,["entries","favorite"])]),_:2},1032,["modelValue","onUpdate:modelValue"]),a.expanded?g("",!0):(r(),C(n,{key:0}))]))),128))]),_:1}),e(P,{label:"–ú–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏",modelValue:t.commentsExpanded,"onUpdate:modelValue":[s[0]||(s[0]=a=>t.commentsExpanded=a),s[1]||(s[1]=a=>t.storeFavorites.loadEntriesWithComments(t.commentsExpanded))],"header-class":"text-h6","switch-toggle-side":""},{default:o(()=>[e(n),e(t.EntriesList,{entries:t.storeFavorites.entriesWithComments},null,8,["entries"])]),_:1},8,["modelValue"]),t.commentsExpanded?g("",!0):(r(),C(n,{key:0})),!t.commentsExpanded&&!Object.keys(t.storeFavorites.entryFavs).length?(r(),c("div",R,s[4]||(s[4]=[w("span",null,"üëâ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∂–µ—Å—Ç swipe –≤–ø—Ä–∞–≤–æ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ñ—Ä–∞–∑—É –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1)]))):g("",!0),e(I,{modelValue:t.dialogVisible,"onUpdate:modelValue":s[3]||(s[3]=a=>t.dialogVisible=a),dir:t.storeSettings.dir.dir,position:i.$constants.POPUP_POSITION},{default:o(()=>[e(L,{class:"q-dialog-plugin"},{default:o(()=>[e(E,{class:"q-px-sm"},{default:o(()=>[e(S,{class:"text-primary"},{default:o(()=>[D(f(i.$t("–ò–∑–±—Ä–∞–Ω–Ω–æ–µ")),1)]),_:1})]),_:1}),e(n),e(M,{class:"q-px-lg"},{default:o(()=>[e(U,{modelValue:t.name,"onUpdate:modelValue":s[2]||(s[2]=a=>t.name=a),modelModifiers:{trim:!0},maxlength:i.$constants.FAV_NAME_MAX_LENGTH,placeholder:"–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ",outlined:"",dense:"",autofocus:"",style:{"font-size":"100%"}},null,8,["modelValue","maxlength"])]),_:1}),e(n),e(q,{class:"items-stretch no-wrap"},{default:o(()=>[e(v,{label:"OK",class:"col-grow",style:{"max-width":"120px"},color:"primary",onClick:t.onSaveFav}),e(v,{label:"–£–¥–∞–ª–∏—Ç—å",icon:"delete","text-color":"red-8",onClick:t.onDeleteFav}),e(v,{label:"–û—Ç–º–µ–Ω–∞",icon:"cancel",onClick:t.closeEditor})]),_:1})]),_:1})]),_:1},8,["modelValue","dir","position"])]),_:1})],64)}const ue=N(K,[["render",X],["__file","FavoritesPage.vue"]]);export{ue as default};
